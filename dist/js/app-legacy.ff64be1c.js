(function(){var e={3842:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,{UpdateConnState:function(){return Me},UpdateData:function(){return Qe},UpdateHeightApp:function(){return Xe},UpdateHeightAppEff:function(){return qe},UpdateHeightToolbar:function(){return Je},UpdateKpText:function(){return je},UpdateLang:function(){return Ee},UpdateLoading:function(){return Ke},UpdateMenu:function(){return Ze},UpdateSyncState:function(){return Re},UpdateTableData:function(){return Ye},UpdateUserSelf:function(){return tt},UpdateUserToken:function(){return et},UpdateViewState:function(){return Ve},UpdateWebInfor:function(){return Fe}});var o={};n.r(o);var i={};n.r(i);var a={};n.r(a),n.d(a,{getAllBlocks:function(){return gn},getTreeBlocks:function(){return fn},getUserRules:function(){return vn}});var s=n(5471),c=n(8100),d=n(7738),u=n(7979),l=n(889),p=n(355),g=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"domresize",rawName:"v-domresize"}],on:{domresize:e.resize}},[e.ready?e._e():t("PageLogin"),t("transition",{attrs:{"enter-active-class":"fade-enter-active","leave-active-class":"fade-leave-active"}},[e.ready?t("Layout"):e._e()],1),t("LoadingWinBar"),t("CheckYesNo"),t("CheckYes")],1)},f=[],h=function(){var e=this,t=e._self._c;return t("WDialog",{attrs:{show:e.loading,maxWidth:e.dialogWidth},on:{"update:show":function(t){e.loading=t},resize:e.resizeDialog},scopedSlots:e._u([{key:"panel",fn:function(){return[t("div",{style:"padding:".concat(e.barPadding-5,"px ").concat(e.barPadding,"px ").concat(e.barPadding,"px ").concat(e.barPadding,"px;")},[t("div",{staticStyle:{"padding-bottom":"3px","font-size":"0.9rem",color:"#666"}},[""!==e.msg?t("span",[e._v(e._s(e.msg))]):t("span",[e._v("處理中請稍後...")])]),t("WProgressBar",{style:"width:".concat(e.barWidth,"px;"),attrs:{height:3,enableContinuous:!0,progColor:"deep-purple lighten-1",progBackgroundColor:"deep-purple lighten-4"}})],1)]},proxy:!0}])})},m=[],v=n(7500),y=n(646),b=n(7703),x={components:{WDialog:y.A,WProgressBar:b.A},props:{},data:function(){return{dialogWidth:0,dialogWidthMax:600,barPadding:20,barWidth:0,msg:""}},mounted:function(){var e=this;s.Ay.prototype.$dg.setLoadingWinBarMessage=e.setMessage},computed:{loading:function(){var e=this,t=(0,v.A)(e,"$store.state.loading");return t}},methods:{setMessage:function(e){this.msg=e},resizeDialog:function(e){var t=this,n=window.innerWidth,r=n-2*t.barPadding;r=Math.max(r,0),r=Math.min(r,t.dialogWidthMax),t.dialogWidth=r;var o=r-2*t.barPadding;o=Math.max(o,0),t.barWidth=o}}},w=x,A=n(1656),S=(0,A.A)(w,h,m,!1,null,"ff3d4996",null),k=S.exports,C=function(){var e=this,t=e._self._c;return t("WConfirm",{attrs:{show:e.bShow,title:e.$t("systemMessage"),content:e.content,_contentColor:"white",_contentIconColor:"white",_contentBackgroundColor:"orange lighten-5",_titleColor:"white",headerBackgroundColor:"grey lighten-3",noBtnText:e.$t("no"),yesBtnText:e.$t("yes")},on:{"update:show":function(t){e.bShow=t},"click-no":function(t){return e.clickBtn(!1)},"click-yes":function(t){return e.clickBtn(!0)}}})},$=[],T=n(2942),U=n(1844),L={components:{WConfirm:U.A},props:{},data:function(){return{bShow:!1,pm:null,content:""}},mounted:function(){var e=this;s.Ay.prototype.$dg.showCheckYesNo=e.show},computed:{},methods:{show:function(e){var t=this;return t.pm=(0,T.A)(),t.content=e,t.bShow=!0,t.pm},clickBtn:function(e){var t=this;e?t.pm.resolve():t.pm.reject("close"),t.bShow=!1}}},W=L,_=(0,A.A)(W,C,$,!1,null,"cfad0048",null),N=_.exports,I=function(){var e=this,t=e._self._c;return t("WConfirm",{attrs:{show:e.bShow,title:e.$t("systemMessage"),content:e.content,_contentColor:"white",_contentIconColor:"white",_contentBackgroundColor:"orange lighten-5",headerBackgroundColor:"grey lighten-3",hasNoBtn:!1,yesBtnText:e.$t("ok")},on:{"update:show":function(t){e.bShow=t},"click-yes":function(t){return e.clickUnit()}}})},B=[],O={components:{WConfirm:U.A},props:{},data:function(){return{bShow:!1,pm:null,content:""}},mounted:function(){var e=this;s.Ay.prototype.$dg.showCheckYes=e.show},computed:{},methods:{show:function(e){var t=this;return t.pm=(0,T.A)(),t.content=e,t.bShow=!0,t.pm},clickUnit:function(){var e=this;e.pm.resolve(),e.bShow=!1}}},P=O,H=(0,A.A)(P,I,B,!1,null,"9943c370",null),z=H.exports,D=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{position:"relative",width:"100vw",height:"100svh"}},[e.autoLogining?t("div",{staticStyle:{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",display:"flex","align-items":"center","justify-content":"center"}},[t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"30px",height:"30px",viewBox:"0 0 24 24"}},[t("rect",{attrs:{width:"9",height:"9",x:"1.5",y:"1.5",fill:"currentColor",rx:"1"}},[t("animate",{attrs:{id:"svgSpinnersBlocksScale0",attributeName:"x",begin:"0;svgSpinnersBlocksScale1.end+0.15s",dur:"0.6s",keyTimes:"0;.2;1",values:"1.5;.5;1.5"}}),t("animate",{attrs:{attributeName:"y",begin:"0;svgSpinnersBlocksScale1.end+0.15s",dur:"0.6s",keyTimes:"0;.2;1",values:"1.5;.5;1.5"}}),t("animate",{attrs:{attributeName:"width",begin:"0;svgSpinnersBlocksScale1.end+0.15s",dur:"0.6s",keyTimes:"0;.2;1",values:"9;11;9"}}),t("animate",{attrs:{attributeName:"height",begin:"0;svgSpinnersBlocksScale1.end+0.15s",dur:"0.6s",keyTimes:"0;.2;1",values:"9;11;9"}})]),t("rect",{attrs:{width:"9",height:"9",x:"13.5",y:"1.5",fill:"currentColor",rx:"1"}},[t("animate",{attrs:{attributeName:"x",begin:"svgSpinnersBlocksScale0.begin+0.15s",dur:"0.6s",keyTimes:"0;.2;1",values:"13.5;12.5;13.5"}}),t("animate",{attrs:{attributeName:"y",begin:"svgSpinnersBlocksScale0.begin+0.15s",dur:"0.6s",keyTimes:"0;.2;1",values:"1.5;.5;1.5"}}),t("animate",{attrs:{attributeName:"width",begin:"svgSpinnersBlocksScale0.begin+0.15s",dur:"0.6s",keyTimes:"0;.2;1",values:"9;11;9"}}),t("animate",{attrs:{attributeName:"height",begin:"svgSpinnersBlocksScale0.begin+0.15s",dur:"0.6s",keyTimes:"0;.2;1",values:"9;11;9"}})]),t("rect",{attrs:{width:"9",height:"9",x:"13.5",y:"13.5",fill:"currentColor",rx:"1"}},[t("animate",{attrs:{attributeName:"x",begin:"svgSpinnersBlocksScale0.begin+0.3s",dur:"0.6s",keyTimes:"0;.2;1",values:"13.5;12.5;13.5"}}),t("animate",{attrs:{attributeName:"y",begin:"svgSpinnersBlocksScale0.begin+0.3s",dur:"0.6s",keyTimes:"0;.2;1",values:"13.5;12.5;13.5"}}),t("animate",{attrs:{attributeName:"width",begin:"svgSpinnersBlocksScale0.begin+0.3s",dur:"0.6s",keyTimes:"0;.2;1",values:"9;11;9"}}),t("animate",{attrs:{attributeName:"height",begin:"svgSpinnersBlocksScale0.begin+0.3s",dur:"0.6s",keyTimes:"0;.2;1",values:"9;11;9"}})]),t("rect",{attrs:{width:"9",height:"9",x:"1.5",y:"13.5",fill:"currentColor",rx:"1"}},[t("animate",{attrs:{id:"svgSpinnersBlocksScale1",attributeName:"x",begin:"svgSpinnersBlocksScale0.begin+0.45s",dur:"0.6s",keyTimes:"0;.2;1",values:"1.5;.5;1.5"}}),t("animate",{attrs:{attributeName:"y",begin:"svgSpinnersBlocksScale0.begin+0.45s",dur:"0.6s",keyTimes:"0;.2;1",values:"13.5;12.5;13.5"}}),t("animate",{attrs:{attributeName:"width",begin:"svgSpinnersBlocksScale0.begin+0.45s",dur:"0.6s",keyTimes:"0;.2;1",values:"9;11;9"}}),t("animate",{attrs:{attributeName:"height",begin:"svgSpinnersBlocksScale0.begin+0.45s",dur:"0.6s",keyTimes:"0;.2;1",values:"9;11;9"}})])])]):[t("div",{style:"\n                position:absolute; top:0px; left:0px; width:100%; height:100%; display:flex; align-items:center; justify-content:center;\n                background-image: linear-gradient(-225deg, ".concat(e.c1," 0%, ").concat(e.c2," 50%, ").concat(e.c3," 100%);\n            ")},[t("div",{},[t("div",{style:"padding-top:".concat(e.logoSize/2,"px;")}),t("div",{style:"\n                        position:relative;\n                        width:".concat(e.contentWidth,"px; padding:10px; border-radius:30px; background:").concat(e.c4,";\n                        box-shadow: rgb(0 0 0 / 2%) 2.76726px 2.76726px 2.21381px 0px, rgb(0 0 0 / 3%) 6.6501px 6.6501px 5.32008px 0px, rgb(0 0 0 / 4%) 12.5216px 12.5216px 10.0172px 0px, rgb(0 0 0 / 4%) 22.3363px 22.3363px 17.869px 0px, rgb(0 0 0 / 5%) 41.7776px 41.7776px 33.4221px 0px, rgb(0 0 0 / 7%) 100px 100px 80px 0px;\n                    ")},[t("div",{style:"position:absolute; top:0px; left:50%; transform:translateX(-50%) translateY(-50%); padding:15px 15px 10px 15px; border-radius:50%; background:".concat(e.c5,";")},[t("img",{attrs:{width:e.logoSize,height:e.logoSize,src:e.webLogo}})]),t("div",{style:"padding:".concat(e.logoSize/2+e.contentPadding,"px ").concat(e.contentPadding,"px ").concat(e.contentPadding,"px ").concat(e.contentPadding,"px;")},[t("div",{staticStyle:{"padding-bottom":"20px","text-align":"center","font-size":"1.3rem"}},[e._v(" "+e._s(e.webName)+" ")]),t("div",{staticStyle:{display:"flex","align-items":"stretch"}},[t("div",{staticStyle:{display:"flex","align-items":"center",padding:"0px 10px",background:"rgba(34, 44, 77, 0.9)"}},[t("WIcon",{attrs:{icon:"mdi-account",color:"#ddd",colorHover:"#eee",size:24}})],1),t("div",{staticStyle:{width:"100%",padding:"5px 10px",background:"rgba(34, 44, 77, 0.8)"}},[t("div",{style:"font-size:0.8rem; color:#eee;"},[e._v(" "+e._s(e.$t("account"))+" ")]),t("WText",{attrs:{textColor:"#fff",bottomLineBorderColor:"#b6b6b6",bottomLineBorderColorHover:"#ccc",bottomLineBorderColorFocus:"#ddd"},on:{enter:e.login},model:{value:e.account,callback:function(t){e.account=t},expression:"account"}})],1)]),t("div",{staticStyle:{"padding-top":"10px"}}),t("div",{staticStyle:{display:"flex","align-items":"stretch"}},[t("div",{staticStyle:{display:"flex","align-items":"center",padding:"0px 10px",background:"rgba(34, 44, 77, 0.9)"}},[t("WIcon",{attrs:{icon:"mdi-lock",color:"#ddd",colorHover:"#eee",size:24}})],1),t("div",{staticStyle:{width:"100%",padding:"5px 10px",background:"rgba(34, 44, 77, 0.8)"}},[t("div",{style:"font-size:0.8rem; color:#eee;"},[e._v(" "+e._s(e.$t("password"))+" ")]),t("WText",{attrs:{textColor:"#fff",bottomLineBorderColor:"#b6b6b6",bottomLineBorderColorHover:"#ccc",bottomLineBorderColorFocus:"#ddd",rightIcon:e.showPassword?"mdi-eye":"mdi-eye-off",rightIconColor:"#ddd",rightIconColorHover:"#eee",rightIconColorFocus:"#ddd",rightIconTooltip:e.showPassword?"顯示密碼":"隱藏密碼",password:!e.showPassword},on:{"click-right":function(t){e.showPassword=!e.showPassword},enter:e.login},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)]),t("div",{staticStyle:{"padding-top":"30px"}}),t("div",{staticStyle:{padding:"5px 0px","text-align":"center"}},[t("WButtonChip",{style:"opacity:".concat(e.hasAcPw?1:.5,";"),attrs:{text:e.$t("login"),textFontSize:"1.0rem",paddingStyle:{v:8,h:130},backgroundColor:"rgba(255,255,255,0.5)",backgroundColorHover:"rgba(255,255,255,0.7)",_shadow:"false",editable:e.hasAcPw},on:{click:e.login}})],1)])])])]),t("div",{staticStyle:{position:"absolute",top:"10px",right:"10px"}},[t("div",{staticStyle:{"_white-space":"nowrap"}},[t("WTextSelect",{staticStyle:{width:"100px"},attrs:{items:e.tgLangs},on:{input:e.changeLang},model:{value:e.tgLangSelect,callback:function(t){e.tgLangSelect=t},expression:"tgLangSelect"}})],1)])]],2)},G=[],F=n(467),E=n(4756),j=n.n(E),M=n(5021),R=n(6167),K=n(3360),V=n(6035),Y=n(293),Q=n(130),X=n(2457),q=n(1945),J={components:{WIcon:Y.A,WText:Q.A,WTextSelect:X.A,WButtonChip:q.A},props:{},data:function(){return{tgLangs:[{id:"cht",text:"中文"},{id:"eng",text:"English"}],tgLangSelect:{id:"cht",text:"中文"},logoSize:120,contentWidth:380,contentPadding:30,autoLogining:!0,account:"",showPassword:!1,password:""}},mounted:function(){var e=this;e.autoLogin()},computed:{connState:function(){var e=this;return(0,v.A)(e,"$store.state.connState")},syncState:function(){var e=this;return(0,v.A)(e,"$store.state.syncState")},viewState:function(){var e=this;return(0,v.A)(e,"$store.state.viewState","")},heightToolbar:function(){var e=this;return(0,v.A)(e,"$store.state.heightToolbar",0)},webName:{get:function(){var e=this,t=e.$t("webName","");return(0,M.A)(t)||(t=e.$t("waitingData","")),document.title=t,t}},webLogo:function(){var e=this;return(0,v.A)(e,"$store.state.webInfor.webLogo","")},webBackgoundGradientColors:function(){var e=this;return(0,v.A)(e,"$store.state.webInfor.webBackgoundGradientColors",[])},c1:function(){var e=this,t=(0,v.A)(e,"webBackgoundGradientColors.0","#fff");return t},c2:function(){var e=this,t=(0,v.A)(e,"webBackgoundGradientColors.1","#fff");return t},c3:function(){var e=this,t=(0,v.A)(e,"webBackgoundGradientColors.2","#fff");return t},c4:function(){var e=this,t=(0,v.A)(e,"webBackgoundGradientColors.3","#fff");return t},c5:function(){var e=this,t=(0,v.A)(e,"webBackgoundGradientColors.4","#fff");return t},webKey:function(){var e=this;return(0,v.A)(e,"$store.state.webInfor.webKey","")},hasAcPw:function(){var e=this;return(0,M.A)(e.account)&&(0,M.A)(e.password)}},methods:{changeLang:function(e){var t=this,n=e.id;t.$ui.setLang(n)},goUrl:function(e,t){e=e.replaceAll("{token}",t),(0,R.A)()?(console.log("60s後重導至:",e),setTimeout((function(){window.location.href=e}),6e4)):window.location.href=e},autoLogin:function(){var e=this;function t(){return n.apply(this,arguments)}function n(){return n=(0,F.A)(j().mark((function t(){var n,r,o,i,a,s;return j().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=null,e.autoLogining){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,(0,V.A)((function(){return e.syncState}));case 5:if(r=e.webKey,(0,M.A)(r)){t.next=10;break}return e.autoLogining=!1,e.$alert(e.$t("failedLoginForNoWebKey"),{type:"error"}),t.abrupt("return");case 10:return o="".concat(r,":userToken"),t.next=13,localStorage.getItem(o);case 13:return i=t.sent,t.next=16,e.$fapi.checkToken(i).catch((function(e){n=e}));case 16:if(!n){t.next=19;break}return e.autoLogining=!1,t.abrupt("return");case 19:return t.next=21,e.$fapi.getUserByToken(i);case 21:if(a=t.sent,s=(0,v.A)(a,"redir",""),(0,M.A)(s)){t.next=27;break}return e.autoLogining=!1,e.$alert(e.$t("failedLoginForNoRedir"),{type:"error"}),t.abrupt("return");case 27:e.goUrl(s,i),e.autoLogining=!1;case 29:case"end":return t.stop()}}),t)}))),n.apply(this,arguments)}t().catch((function(t){console.log("autoLogin",t),e.$alert(e.$t("failedLoginForCatch"),{type:"error"})})).finally((function(){e.$ui.updateLoading(!1)}))},login:function(){var e=this;function t(){return n.apply(this,arguments)}function n(){return n=(0,F.A)(j().mark((function t(){var n,r,o,i,a;return j().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$ui.updateLoading(!0),t.next=3,(0,K.A)(1e3);case 3:if(n=e.webKey,(0,M.A)(n)){t.next=6;break}return t.abrupt("return",Promise.reject(e.$t("failedLoginForNoWebKey")));case 6:return r="".concat(n,":userToken"),t.next=9,e.$fapi.loginByAccountAndPassword(e.account,e.password);case 9:return o=t.sent,t.next=12,localStorage.setItem(r,"");case 12:if(i=(0,v.A)(o,"token",""),(0,M.A)(i)){t.next=15;break}return t.abrupt("return",Promise.reject(e.$t("failedLoginForNoToken")));case 15:return t.next=17,localStorage.setItem(r,i);case 17:if(a=(0,v.A)(o,"redir",""),(0,M.A)(a)){t.next=20;break}return t.abrupt("return",Promise.reject(e.$t("failedLoginForNoRedir")));case 20:e.goUrl(a,i);case 21:case"end":return t.stop()}}),t)}))),n.apply(this,arguments)}t().catch((function(t){console.log("login",t),e.$alert(e.$t("failedLoginForCatch"),{type:"error"})})).finally((function(){e.$ui.updateLoading(!1)}))}}},Z=J,ee=(0,A.A)(Z,D,G,!1,null,"67e885bc",null),te=ee.exports,ne=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{height:"100vh",background:"#f5f5f5"}},[t("div",{style:"height:".concat(e.heightToolbar,"px; overflow-y:hidden; padding:0px 10px; background:#fff; border-bottom:1px solid #ccc; display:flex; align-items:center;")},[e._e(),t("div",{staticStyle:{"padding-left":"5px","white-space":"nowrap"}},[t("div",{staticStyle:{display:"flex","align-items":"center"}},[e.webLogo?t("div",{staticStyle:{"padding-right":"10px",display:"flex","align-items":"center"}},[t("img",{staticStyle:{width:"36px",height:"36px"},attrs:{src:e.webLogo}})]):e._e(),t("div",[t("div",{staticStyle:{"font-size":"1.2rem",color:"#000"}},[e._v(e._s(e.webName))]),t("div",{staticStyle:{"font-size":"0.8rem",color:"#666"}},[e._v(e._s(e.$t("webDescription")))])])])]),t("div",{staticStyle:{width:"100%"}}),t("div",{staticStyle:{"padding-right":"10px","white-space":"nowrap"}},[t("WTextSelect",{staticStyle:{width:"100px"},attrs:{items:e.tgLangs},on:{input:e.changeLang},model:{value:e.tgLangSelect,callback:function(t){e.tgLangSelect=t},expression:"tgLangSelect"}})],1)],1),t("div",{style:"height:calc( 100% - ".concat(e.heightToolbar,"px );")},[t("LayoutContent")],1)])},re=[],oe=n(9165),ie=n(7193),ae=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"domresize",rawName:"v-domresize"}],staticStyle:{height:"100%",width:"100%"},on:{domresize:e.resize}},[e.syncState?[t("WDrawer",{style:"height:".concat(e.panelHeight,"px; width:100%;"),attrs:{drawerWidth:e.drawerWidth,drawerWidthMin:e.drawerWidthMin,drawerWidthMax:e.drawerWidthMax,mode:"from-left",dragDrawerWidth:!0,autoSwitch:!0,switchWidth:2.3*e.drawerWidth},on:{"update:drawerWidth":function(t){e.drawerWidth=t},"update:drawer-width":function(t){e.drawerWidth=t}},scopedSlots:e._u([{key:"drawer",fn:function(n){return[t("div",{style:"height:".concat(n.height,"px; background:#fff; position:relative;")},[t("WListVertical",{staticStyle:{height:"100%"},attrs:{items:e.menus,itemActive:e.menuActive,"item-text-color":"#222","item-text-color-hover":"#444","item-text-color-active":"#EF6C00","item-icon-color":"#222","item-icon-color-hover":"#444","item-icon-color-active":"#EF6C00","item-background-color":"#fff","item-background-color-hover":"#f2f2f2","item-background-color-active":"#FFF3E0",paddingStyle:{v:15,h:15}},on:{click:function(t){e.menuKey=t.key}}}),e.drawer?t("div",{style:"position:absolute; top:1px; right:4px;"},[t("WButtonCircle",{attrs:{paddingStyle:{v:3,h:3},icon:"mdi-arrow-left",iconSize:16,backgroundColor:"#fff",backgroundColorHover:"#eee",backgroundColorFocus:"#fff",borderColor:"transparent",borderColorHover:"#eee",borderColorFocus:"#eee",tooltip:e.$t("menuTreeHide"),shadow:!0},on:{click:function(t){e.drawer=!1}}})],1):e._e()],1)]}},{key:"content",fn:function(n){return[t("div",{style:"height:".concat(n.height,"px; width:").concat(n.width,"px; position:relative;")},[["users"===e.menuKey?t("LayoutContentUsers"):e._e()],e.drawer?e._e():t("div",{style:"position:absolute; top:1px; left:4px;"},[t("WButtonCircle",{attrs:{paddingStyle:{v:3,h:3},icon:"mdi-arrow-right",iconSize:16,backgroundColor:"#fff",backgroundColorHover:"#eee",backgroundColorFocus:"#fff",borderColor:"transparent",borderColorHover:"#eee",borderColorFocus:"#eee",tooltip:e.$t("menuTreeShow"),shadow:!0},on:{click:function(t){e.drawer=!0}}})],1)],2)]}}],null,!1,3751248676),model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}})]:[t("div",{staticStyle:{padding:"20px","font-size":"0.9rem"}},[e._v(" "+e._s(e.$t("waitingData"))+" ")])]],2)},se=[],ce=n(6145),de=n(772),ue=n(3204),le=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"domresize",rawName:"v-domresize"}],staticStyle:{height:"100%"},attrs:{changeUsers:e.changeUsers},on:{domresize:e.resizePanel}},[t("div",{directives:[{name:"domresize",rawName:"v-domresize"}],staticStyle:{"border-bottom":"1px solid #ddd",background:"#fff"},on:{domresize:e.resizeHead}},[t("div",{staticStyle:{display:"inline-block","vertical-align":"top",padding:"10px 0px 5px 20px"}},[t("div",{staticStyle:{display:"flex","align-items":"center",padding:"5px 15px 5px 5px","border-bottom":"3px solid #FF9100"}},[t("WIcon",{attrs:{icon:e.mdiAccountGroupOutline,color:"#FF9800"}}),t("div",{staticStyle:{"padding-left":"10px","font-size":"1.3rem",color:"#d3912c"}},[e._v(" bbb ")])],1)]),t("div",{staticStyle:{display:"inline-block","vertical-align":"top"}},[t("div",{staticStyle:{padding:"15px 20px 15px 20px",background:"#fff"}},[t("div",{staticStyle:{display:"flex"}},[t("WSwitch",{attrs:{text:e.$t("isEditabled"),checkedSwitchCircleColor:"#D81B60",checkedSwitchCircleColorHover:"#f26",checkedSwitchBarColor:"#F8BBD0",checkedSwitchBarColorHover:"#F8BBD0"},model:{value:e.isOperatable,callback:function(t){e.isOperatable=t},expression:"isOperatable"}})],1),e.isOperatable?t("div",{staticStyle:{"padding-top":"5px","font-size":"0.8rem",_color:"#f26"}},[t("div",{staticStyle:{padding:"3px 0px"}},[e._v(" 1. "+e._s(e.$t("userMsg1"))+" ")]),t("div",{staticStyle:{padding:"3px 0px"}},[e._v(" 2. "+e._s(e.$t("userMsg2"))+" ")])]):e._e()])]),e.isModified?t("div",{staticStyle:{padding:"10px 10px 12px 10px","border-top":"1px solid #F48FB1","border-bottom":"1px solid #F48FB1",background:"#FCE4EC",display:"flex","align-items":"center","justify-content":"flex-end"}},[t("WButtonChip",{attrs:{paddingStyle:{v:0,h:11},text:e.$t("saveChanges"),icon:e.mdiCloudUploadOutline,backgroundColor:"rgba(255,0,50,0.7)",backgroundColorHover:"rgba(255,0,50,0.8)",textColor:"#eee",textColorHover:"#fff",iconColor:"#eee",iconColorHover:"#fff"},on:{click:e.saveGroups}})],1):e._e()]),e.firstLoading?t("div",{staticStyle:{padding:"10px 15px","font-size":"0.8rem"}},[e._v(" "+e._s(e.$t("waitingData"))+" ")]):t("div",{style:"padding:".concat(e.spacePading,"px;")},[t("div",{staticStyle:{background:"#fff","box-shadow":"0 3px 1px -2px rgba(0,0,0,.2), 0 2px 2px 0 rgba(0,0,0,.14), 0 1px 5px 0 rgba(0,0,0,.12)"}},[t("div",{directives:[{name:"domresize",rawName:"v-domresize"}],staticStyle:{padding:"20px 10px 10px 20px","border-bottom":"3px solid #ddd"},on:{domresize:e.resizeGroupInfor}},[t("div",{staticStyle:{padding:"0px 10px 10px 0px",display:"inline-block","vertical-align":"middle",color:"#666","font-size":"1.1rem"}},[e._v(" "+e._s(e.$t("userList"))+" ")]),e.isOperatable?t("div",{staticStyle:{padding:"0px 10px 10px 0px",display:"inline-block","vertical-align":"middle"}},[t("WButtonChip",{attrs:{paddingStyle:{v:0,h:11},text:e.$t("addUser"),icon:e.mdiAccountPlusOutline,backgroundColor:"rgba(255,0,50,0.7)",backgroundColorHover:"rgba(255,0,50,0.8)",textColor:"#eee",textColorHover:"#fff",iconColor:"#eee",iconColorHover:"#fff"},on:{click:e.clickAddUser}})],1):e._e()]),t("WPanelScrolly",{style:"height:".concat(e.usersGroupsHeight,"px; _overflow-y:auto;")},[t("div",{staticStyle:{padding:"10px"}},e._l(e.usersGroups,(function(n,r){return t("div",{key:"kus:"+r,staticStyle:{padding:"10px"}},[t("div",{staticStyle:{"padding-bottom":"5px",display:"flex","align-items":"center","border-bottom":"1px dashed #ddd"}},[t("div",{staticStyle:{"padding-right":"5px",color:"#888","font-size":"0.8rem"}},[e._v(" "+e._s(e.$t("from"))+": ")]),t("div",{staticStyle:{color:"#000","font-size":"0.8rem"}},[e._v(" "+e._s(e.getFrom(r))+" ")])]),t("div",{staticStyle:{"padding-top":"10px"}},e._l(n,(function(n,r){return t("div",{key:"ku:"+r,staticStyle:{display:"inline-block",margin:"0px 10px 10px 0px"}},[t("WButtonChip",{attrs:{text:n.name,paddingStyle:{v:2,h:12},icon:e.getIsAdmin(n)?e.mdiChessRook:"",backgroundColor:e.getIsNotActive(n)?"rgba(130,130,130,0.8)":e.getIsAdmin(n)?"rgba(216, 27, 96, 0.8)":"rgba(50,110,230,0.8)",backgroundColorHover:e.getIsNotActive(n)?"rgba(130,130,130,0.9)":e.getIsAdmin(n)?"rgba(216, 27, 96, 0.9)":"rgba(50,110,230,0.9)",textColor:"#eee",textColorHover:"#fff",iconColor:"#eee",iconColorHover:"#fff",close:e.isOperatable},on:{click:function(t){return e.clickEditUser(n)},"click-close":function(t){return e.clickRemoveUser(n)}}})],1)})),0)])})),0)])],1)])])},pe=[],ge=n(6036),fe=n(7422),he=n(1244),me=n(6902),ve=n(4739),ye=n(7120),be=n(8135),xe=n(4248),we=n(1887),Ae={components:{WIcon:Y.A,WButtonChip:q.A,WSwitch:xe.A,WPanelScrolly:we.A},props:{},data:function(){return{mdiAccountGroupOutline:oe.dgQ,mdiAccountPlusOutline:oe.M7K,mdiCheckboxMarkedCircle:oe.uHb,mdiChessRook:oe.cxm,panelWidth:100,panelHeight:100,headHeight:100,groupInforHeight:100,firstLoading:!0,isOperatable:!0,isModified:!1,pickGroupId:""}},computed:{users:function(){return(0,v.A)(this,"$store.state.users")},usersGroups:function(){var e=(0,ve.A)(this.users,"from"),t=(0,fe.A)(e);t=(0,he.A)(t);var n={};return(0,ge.A)(t,(function(t){n[t]=e[t]})),e=n,e},changeUsers:function(){var e=this;return 0===(0,me.A)(e.users)||(e.firstLoading=!1),""},spacePading:function(){var e=this;return e.panelWidth<400?0:e.panelWidth<800?10:20},usersGroupsHeight:function(){var e=this,t=e.panelHeight-e.headHeight-2*e.spacePading-e.groupInforHeight;return t=Math.max(t,0),t}},methods:{resizePanel:function(e){var t=this;t.panelWidth=e.snew.offsetWidth,t.panelHeight=e.snew.offsetHeight},resizeHead:function(e){var t=this;t.headHeight=e.snew.offsetHeight},resizeGroupInfor:function(e){var t=this;t.groupInforHeight=e.snew.offsetHeight},getFrom:function(e){var t=this;return(0,M.A)(e)||(e=t.$t("empty")),e},getIsAdmin:function(e){return"y"===(0,v.A)(e,"isAdmin")},getIsNotActive:function(e){return"n"===(0,v.A)(e,"isActive")},clickAddUser:function(){var e=this;function t(){return n.apply(this,arguments)}function n(){return n=(0,F.A)(j().mark((function t(){var n,r,o;return j().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=null,e.$ui.updateLoading(!0),r={id:(0,ye.A)(),name:e.$t("newUser"),from:"",isAdmin:"n",isActive:"y"},t.next=5,e.$fapi.users.insert(r).catch((function(e){n=e}));case 5:return null!==n&&e.$alert("".concat(e.$t("failedToAddUser"),": ").concat(n),{type:"error"}),o=null,t.next=9,(0,V.A)((function(){return o=(0,ce.A)(e.users,{id:r.id}),(0,be.A)(o)}));case 9:e.$dg.showVeUser(o).catch((function(){})),e.$alert(e.$t("successfulToAddUser"));case 11:case"end":return t.stop()}}),t)}))),n.apply(this,arguments)}t().catch((function(t){console.log("catch",t),e.$alert(e.$t("anUnexpectedErrorOccurred"),{type:"error"})})).finally((function(){e.$ui.updateLoading(!1)}))},clickRemoveUser:function(e){var t=this;function n(){return r.apply(this,arguments)}function r(){return r=(0,F.A)(j().mark((function n(){var r,o,i,a;return j().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=null,o=!1,i=t.$t("confirmToDeleteUser"),i=i.replace("{name}",e.name),n.next=6,t.$dg.showCheckYesNo(i).catch((function(){o=!0}));case 6:if(!o){n.next=8;break}return n.abrupt("return");case 8:return t.$ui.updateLoading(!0),n.next=11,t.$fapi.users.del(e).catch((function(e){r=e}));case 11:if(null===r){n.next=14;break}return t.$alert("".concat(t.$t("failedToDeleteUser"),": ").concat(r),{type:"error"}),n.abrupt("return");case 14:return a=null,n.next=17,(0,V.A)((function(){return a=(0,ce.A)(t.users,(function(t){return t.id===e.id})),!(0,be.A)(a)}));case 17:t.$alert(t.$t("successfulToDeleteUser"));case 18:case"end":return n.stop()}}),n)}))),r.apply(this,arguments)}n().catch((function(e){console.log("catch",e),t.$alert(t.$t("anUnexpectedErrorOccurred"),{type:"error"})})).finally((function(){t.$ui.updateLoading(!1)}))},clickEditUser:function(e){var t=this;t.isOperatable?t.$dg.showVeUser(e).catch((function(){})):t.$alert(t.$t("cannotShowUserDetailsInViewMode"),{type:"error"})}}},Se=Ae,ke=(0,A.A)(Se,le,pe,!1,null,"2c575372",null),Ce=ke.exports,$e={components:{WDrawer:de.A,WButtonCircle:ie.A,WListVertical:ue.A,LayoutContentUsers:Ce},props:{},data:function(){return{menuKey:"targets",panelWidth:0,panelHeight:0,drawer:!0,drawerWidth:180,drawerWidthMin:150,drawerWidthMax:300}},computed:{syncState:function(){return(0,v.A)(this,"$store.state.syncState")},menus:function(){var e=[{key:"users",text:"bbb",icon:oe.dgQ}];return e},menuActive:function(){var e=this,t=(0,ce.A)(e.menus,{key:e.menuKey});return t}},methods:{resize:function(e){var t=this;t.panelWidth=e.snew.clientWidth,t.panelHeight=e.snew.clientHeight}}},Te=$e,Ue=(0,A.A)(Te,ae,se,!1,null,"9a325736",null),Le=Ue.exports,We={components:{WTextSelect:X.A,WButtonCircle:ie.A,LayoutContent:Le},props:{},data:function(){return{mdiMenu:oe.ExW,userName:"tester",drawer:!0,tgLangs:[{id:"cht",text:"中文"},{id:"eng",text:"English"}],tgLangSelect:{id:"cht",text:"中文"}}},beforeMount:function(){var e=this;e.$ui.setLang(e.tgLangSelect.id)},computed:{viewState:function(){return(0,v.A)(this,"$store.state.viewState","")},heightToolbar:function(){var e=this;return(0,v.A)(e,"$store.state.heightToolbar",0)},webName:{get:function(){var e=this,t=e.$t("webName");return(0,M.A)(t)||(t=e.$t("waitingData")),document.title=t,t}},webLogo:function(){var e=this;return(0,v.A)(e,"$store.state.webInfor.webLogo","")}},methods:{changeLang:function(e){var t=this,n=e.id;t.$ui.setLang(n)}}},_e=We,Ne=(0,A.A)(_e,ne,re,!1,null,"f2151b4e",null),Ie=Ne.exports,Be={components:{LoadingWinBar:k,CheckYesNo:N,CheckYes:z,PageLogin:te,Layout:Ie},data:function(){return{}},beforeMount:function(){var e=this;e.$ui.setVo(e)},computed:{ready:function(){return!1}},methods:{resize:function(e){var t=this;t.$ui.syncHeight()}}},Oe=Be,Pe=(0,A.A)(Oe,g,f,!1,null,null,null),He=Pe.exports,ze=n(7734),De=n(9842),Ge=n(8395),Fe="UpdateWebInfor",Ee="UpdateLang",je="UpdateKpText",Me="UpdateConnState",Re="UpdateSyncState",Ke="UpdateLoading",Ve="UpdateViewState",Ye="UpdateTableData",Qe="UpdateData",Xe="UpdateHeightApp",qe="UpdateHeightAppEff",Je="UpdateHeightToolbar",Ze="UpdateMenu",et="UpdateUserToken",tt="UpdateUserSelf",nt=n(9651),rt=n(7106),ot=n(7286),it=n(4353),at="tokens",st="金鑰",ct="Tokens",dt={id:{pk:!0,name:"主鍵",type:"STRING"},token:{name:"金鑰",type:"STRING"},userId:{name:"使用者主鍵",type:"STRING"},timeCreate:{name:"創建時間",type:"STRING"},timeEnd:{name:"到期時間",type:"STRING"},timeUpdate:{name:"更新時間",type:"STRING"}},ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,nt.A)(e,(0,fe.A)(dt));return t.id="".concat((0,ot.A)(),"-").concat((0,ye.A)()),t.token="".concat((0,ot.A)(),"-").concat((0,ye.A)()),t.timeCreate=(0,rt.A)(),t.timeEnd=it().add(30,"minute").format(),t.timeUpdate=t.timeCreate,t},lt=function(){var e=[];return e},pt={keyTable:at,tableNameCht:st,tableNameEng:ct,settings:dt,funNew:ut,funTest:lt},gt=pt,ft="users",ht="使用者",mt="Users",vt={id:{pk:!0,name:"主鍵",type:"STRING"},order:{name:"順序",type:"INTEGER"},account:{name:"帳號",type:"STRING"},password:{name:"密碼",type:"STRING"},name:{name:"姓名",type:"STRING"},email:{name:"電子郵件",type:"STRING"},description:{name:"描述",type:"TEXT"},from:{name:"來源",type:"STRING"},ruleGroupsIds:{name:"所屬權限群組主鍵",type:"STRING"},redir:{name:"登入後轉址",type:"STRING"},isAdmin:{name:"是否為系統管理員",type:"STRING"},userId:{name:"創建使用者主鍵",type:"STRING"},timeCreate:{name:"創建時間",type:"STRING"},userIdUpdate:{name:"最新變更使用者主鍵",type:"STRING"},timeUpdate:{name:"更新時間",type:"STRING"},isActive:{name:"是否有效",type:"STRING"}},yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,nt.A)(e,(0,fe.A)(vt));return t.id="".concat((0,ot.A)(),"-").concat((0,ye.A)()),t.isAdmin="n",t.userIdUpdate=t.userId,t.timeCreate=(0,rt.A)(),t.timeUpdate=t.timeCreate,t.isActive="y",t},bt=function(){var e=[];return e},xt={keyTable:ft,tableNameCht:ht,tableNameEng:mt,settings:vt,funNew:yt,funTest:bt},wt=xt,At=n(3422),St={tokens:gt,users:wt},kt={};for(var Ct in St)kt[Ct]=(0,At.A)(St[Ct],{useCreateStorage:!1});var $t,Tt=kt,Ut={hostname:"".concat(window.location.origin),webInfor:{},connState:"連線中...",syncState:!1,viewState:"lists",loading:!1,settings:{leftDrawerWidth:200},heightApp:0,heightAppEff:0,heightToolbar:60,menu:{},userToken:"",user:{id:"",name:"",email:"",isAdmin:"n"},lang:"cht",keyLangs:{systemMessage:{eng:"System message",cht:"系統確認訊息"},ok:{eng:"OK",cht:"確認"},no:{eng:"No",cht:"取消"},yes:{eng:"Yes",cht:"確定"},empty:{eng:"Empty",cht:"無"},waitingData:{eng:"Waiting data...",cht:"等待數據中..."},isEditabled:{eng:"Editable",cht:"是否編輯"},saveChanges:{eng:"Save changes",cht:"儲存變更"},from:{eng:"From",cht:"來源"},save:{eng:"Save",cht:"儲存"},close:{eng:"Close",cht:"關閉"},cancel:{eng:"Cancel",cht:"取消"},processing:{eng:"Processing...",cht:"處理中請稍後..."},anUnexpectedErrorOccurred:{eng:"An unexpected error occurred, please contact the administrator",cht:"發生非預期錯誤，請洽管理員"},unknow:{eng:"Unknow",cht:"未知"},account:{eng:"Account",cht:"帳號"},password:{eng:"Password",cht:"密碼"},username:{eng:"Username",cht:"使用者姓名"},email:{eng:"Email",cht:"電子郵件"},name:{eng:"Name",cht:"名稱"},description:{eng:"Description",cht:"說明"},noDescription:{eng:"No description",cht:"無說明"},login:{eng:"Login",cht:"登入"},logout:{eng:"Logout",cht:"登出"},failedLoginForNoWebKey:{eng:"Can not get the web key",cht:"無有效站台唯一識別資訊"},failedLoginForNoToken:{eng:"Can not get the token",cht:"無有效金鑰"},failedLoginForNoRedir:{eng:"Can not get the url for redirection",cht:"無有效轉址"},failedLoginForCatch:{eng:"User account or password is incorrect",cht:"使用者帳密錯誤無法登入"},userList:{eng:"User list",cht:"使用者分類清單"},addUser:{eng:"Add user",cht:"新增使用者"},editUser:{eng:"Edit user",cht:"編修使用者"},isAManager:{eng:"Is a manager",cht:"是否為管理者"},isActive:{eng:"Is active",cht:"是否有效"},remark:{eng:"Remark",cht:"備註"},dayCreate:{eng:"Create day",cht:"創建日期"},newUser:{eng:"New user",cht:"新使用者"},failedToAddUser:{eng:"Failed to add the user",cht:"新增使用者失敗"},successfulToAddUser:{eng:"Add the user successfully",cht:"新增使用者成功"},confirmToDeleteUser:{eng:"Do you want to delete the user[{name}]?",cht:"確認是否刪除使用者"},failedToDeleteUser:{eng:"Failed to delete the user",cht:"刪除使用者失敗"},successfulToDeleteUser:{eng:"Delete the user successfully",cht:"刪除使用者成功"},cannotShowUserDetailsInViewMode:{eng:"Can not show the user details in the view mode",cht:"非編輯模式無法查閱使用者詳細資訊"},allDefaults:{eng:"All defaults",cht:"全部項目預設值"},show:{eng:"Show",cht:"顯示"},active:{eng:"Active",cht:"啟用"},showChildren:{eng:"Show children",cht:"所屬顯示"},hideChildren:{eng:"Hide children",cht:"所屬不顯示"},activateChildren:{eng:"Activate children",cht:"所屬啟用"},deactivateChildren:{eng:"Deactivate children",cht:"所屬不啟用"},isUsernameEmpty:{eng:"Username is empty",cht:"使用者名稱不得為空"},failedToSaveUser:{eng:"Failed to save the user",cht:"變更使用者失敗"},successfulToSaveUser:{eng:"Save the user successfully",cht:"變更使用者成功"}},kpText:{}};(0,ge.A)(Tt,(function(e,t){Ut[t]=null}));var Lt=($t={},(0,De.A)((0,De.A)((0,De.A)((0,De.A)((0,De.A)((0,De.A)((0,De.A)((0,De.A)((0,De.A)((0,De.A)($t,Fe,(function(e,t){e.webInfor=t})),Ee,(function(e,t){e.lang=t})),je,(function(e,t){e.kpText=t})),Me,(function(e,t){e.connState=t})),Re,(function(e,t){e.syncState=t})),Ke,(function(e,t){e.loading=t})),Ve,(function(e,t){e.viewState=t})),Ye,(function(e,t){e[t.tableName]=t.data})),Qe,(function(e,t){(0,Ge.A)(e,t.path,t.data)})),Xe,(function(e,t){e.heightApp=t})),(0,De.A)((0,De.A)((0,De.A)((0,De.A)((0,De.A)($t,qe,(function(e,t){e.heightAppEff=t})),Je,(function(e,t){e.heightToolbar=t})),Ze,(function(e,t){e.menu=t})),et,(function(e,t){e.userToken=t})),tt,(function(e,t){e.userSelf=t})));s.Ay.use(ze.Ay);var Wt=new ze.Ay.Store({state:Ut,mutations:Lt,getters:o,actions:i,strict:!0});Wt.types=r,s.Ay.prototype.$store=Wt;var _t=Wt,Nt=n(106);n(3959),n(6207),n(5290);function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){(0,De.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ot=s.Ay.prototype;function Pt(e){Ot=e}function Ht(e){Ot.$store.commit(Ot.$store.types.UpdateConnState,e)}function zt(e){Ot.$store.commit(Ot.$store.types.UpdateLoading,e)}function Dt(e){Ot.$store.commit(Ot.$store.types.UpdateViewState,e)}function Gt(e){Ot.$store.commit(Ot.$store.types.UpdateUserToken,e)}function Ft(e){Ot.$store.commit(Ot.$store.types.UpdateUserSelf,e)}function Et(){function e(t){(0,ge.A)(t,(function(t){t.$forceUpdate(),t.$children&&e(t.$children)}))}e(Ot.$children)}function jt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,M.A)(e)&&Ot.$store.commit(Ot.$store.types.UpdateLang,e),Mt(),Et()}function Mt(){var e=(0,v.A)(Ot,"$store.state.keyLangs"),t=(0,v.A)(Ot,"$store.state.webInfor.webName"),n=(0,v.A)(Ot,"$store.state.webInfor.webDescription"),r=Bt(Bt({},e),{},{webName:Bt({},t),webDescription:Bt({},n)}),o=(0,v.A)(Ot,"$store.state.lang"),i={};return(0,ge.A)(r,(function(e,t){i[t]=e[o]})),Ot.$store.commit(Ot.$store.types.UpdateKpText,i),i}function Rt(e){var t=(0,v.A)(Ot,"$store.state.kpText");return(0,v.A)(t,e,"")}function Kt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=(0,v.A)(e,t,"");if(!(0,M.A)(r)){var o=Rt("empty");return o}return(0,Nt.A)(n)&&(r=n(r)),r}function Vt(){var e=(0,v.A)(Ot,"$store.state.heightToolbar"),t=window.innerHeight-e;return Ot.$store.commit(Ot.$store.types.UpdateHeightApp,window.innerHeight),Ot.$store.commit(Ot.$store.types.UpdateHeightAppEff,t),""}function Yt(){return Qt.apply(this,arguments)}function Qt(){return Qt=(0,F.A)(E.mark((function e(){var t,n=arguments;return E.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:0,!(t>0)){e.next=4;break}return e.next=4,(0,K.A)(t);case 4:return e.next=6,(0,V.A)((function(){return(0,be.A)((0,v.A)(Ot,"$dsrl"))}));case 6:return e.next=8,(0,V.A)((function(){return(0,v.A)(Ot,"$store.state.syncState")}));case 8:case"end":return e.stop()}}),e)}))),Qt.apply(this,arguments)}var Xt={setVo:Pt,updateConnState:Ht,updateLoading:zt,updateViewState:Dt,updateUserToken:Gt,updateUserSelf:Ft,forceUpdate:Et,setLang:jt,getKpLang:Mt,getKpText:Rt,gv:Kt,syncHeight:Vt,waitData:Yt},qt=Xt;function Jt(e){function t(t,n,r){var o=(0,ce.A)(e,(0,De.A)({},t,n));return o||(o=""),(0,M.A)(r)&&(o=(0,v.A)(o,r,"")),o}function n(e){return t("keyTable",e,"tableNameCht")}return{getTableInforBy:t,getTableChtByKey:n}}var Zt=Jt,en=n(1219),tn=n(4722),nn=n(4554),rn=n(903),on=n(9491),an=n(8993),sn=n(545),cn=n(6702),dn=n(7831);function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){(0,De.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pn="/";function gn(e){var t=(0,tn.A)(e,(function(e){var t=(0,sn.A)(e.id,pn),n=(0,v.A)((0,on.A)(t),0);t=(0,an.A)(t,1);var r=(0,nn.A)(t,pn);return ln(ln({},e),{},{idTemp:e.id,parentId:r,text:n})}));return t=(0,he.A)(t,"order"),t}function fn(e){var t,n=gn(e),r={bindKey:"id",bindParent:"parentId",bindChildren:"children",saveExtProps:!0};try{t=(0,dn.A)(n,r)}catch(o){console.log(o)}return t}function hn(e,t){var n=(0,v.A)(e,"ruleGroupsIds",""),r=(0,sn.A)(n,";"),o=[];return(0,ge.A)(r,(function(e){var n=(0,ce.A)(t,{id:e});(0,be.A)(n)&&o.push(n)})),o=(0,tn.A)(o,(function(e){var t=en.parse(e.crules);return e.rules=t,e})),o}function mn(e,t){e=(0,rn.A)(e),e=(0,he.A)(e,"order"),t=(0,rn.A)(t);var n=en.parse(t.crules),r={},o=["show","active"];return(0,ge.A)(o,(function(t){var o=(0,v.A)(n,"___all___.".concat(t));o="y"===o?"y":"n",(0,ge.A)(e,(function(e){var i=e.id;r[i]||(r[i]={});var a=n[i],s=null,c=(0,v.A)(a,"".concat(t));s="y"===c||"n"===c?c:o,r[i][t]=s}))})),r}function vn(e,t,n){var r=(0,v.A)(e,"ruleGroupsIds",""),o=hn(e,t),i=(0,tn.A)(o,"name");i=(0,nn.A)(i,";");var a={};return(0,ge.A)(o,(function(e){var t=mn(n,e);(0,ge.A)(t,(function(e,n){(0,cn.A)(a,n)||(a[n]={});var r=["show","active"];(0,ge.A)(r,(function(e){var r=a[n][e],o=t[n][e];"y"===r||(a[n][e]="y"===o?"y":"n")}))}))})),{ruleGroupsIds:r,ruleGroupsNames:i,rules:a}}s.Ay.config.productionTip=!1,s.Ay.prototype.$alert=function(){var e=Array.prototype.slice.call(arguments),t=e[0],n=e[1];console.log(t,n),"close"!==t&&(0,d.A)(t,n)};var yn=Zt(Tt);s.Ay.prototype.$ui=qt,s.Ay.prototype.$t=qt.getKpText,s.Ay.prototype.$s=a,s.Ay.prototype.$dssm=yn,s.Ay.prototype.$dg={},s.Ay.directive("domresize",(0,l.A)()),s.Ay.directive("dommutation",(0,u.A)()),s.Ay.directive("domdragdrop",(0,p.A)());var bn=!1;(0,c.A)({showLog:!1,getUrl:function(){return window.location.origin+window.location.pathname},useWaitToken:!1,getToken:function(){return""},getServerMethods:function(e){console.log("$fapi",e),s.Ay.prototype.$fapi=e,e.getWebInfor().then((function(e){console.log("$fapi getWebInfor",e),s.Ay.prototype.$store.commit(s.Ay.prototype.$store.types.UpdateWebInfor,e),qt.setLang()})).catch((function(e){console.log(e)}))},recvData:function(e){console.log("sync data",e.tableName,e.data),s.Ay.prototype.$store.commit(s.Ay.prototype.$store.types.UpdateTableData,e)},getAfterUpdateTableTags:function(e){bn||(bn=!0,console.log("first-sync"),s.Ay.prototype.$store.commit(s.Ay.prototype.$store.types.UpdateSyncState,!0))}}),new s.Ay({store:_t,render:function(e){return e(He)}}).$mount("#app")},477:function(){}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,r,o,i){if(!r){var a=1/0;for(u=0;u<e.length;u++){r=e[u][0],o=e[u][1],i=e[u][2];for(var s=!0,c=0;c<r.length;c++)(!1&i||a>=i)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(s=!1,i<a&&(a=i));if(s){e.splice(u--,1);var d=o();void 0!==d&&(t=d)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[r,o,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,i,a=r[0],s=r[1],c=r[2],d=0;if(a.some((function(t){return 0!==e[t]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(c)var u=c(n)}for(t&&t(r);d<a.length;d++)i=a[d],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},r=self["webpackChunkw_web_sso"]=self["webpackChunkw_web_sso"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[504],(function(){return n(3842)}));r=n.O(r)})();
//# sourceMappingURL=app-legacy.ff64be1c.js.map