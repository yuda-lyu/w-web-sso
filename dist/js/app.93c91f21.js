(function(){var t={477:function(){},806:function(t,e,i){"use strict";var r={};i.r(r),i.d(r,{UpdateData:function(){return Oe},UpdateHeightApp:function(){return Ve},UpdateHeightAppEff:function(){return Ge},UpdateHeightToolbar:function(){return Re},UpdateKpText:function(){return Ye},UpdateLang:function(){return Ne},UpdateLoading:function(){return ze},UpdateMenu:function(){return je},UpdateSyncState:function(){return Me},UpdateTableData:function(){return Fe},UpdateUserSelf:function(){return Qe},UpdateUserToken:function(){return Ze},UpdateViewState:function(){return Ke},UpdateWebInfor:function(){return We}});var o={};i.r(o);var n={};i.r(n);var a={};i.r(a),i.d(a,{checkUserAdmin:function(){return hr},checkUserBasic:function(){return gr},getIsActive:function(){return mr},getIsAdmin:function(){return fr},getIsBlocked:function(){return ur},getIsEnded:function(){return pr},getIsExpired:function(){return lr},getIsVerified:function(){return dr},getNameNew:function(){return cr}});var s=i(5471),c=i(7500),d=i(1254),l=i(7738),u=i(7979),p=i(889),f=i(355),m=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"domresize",rawName:"v-domresize"}],on:{domresize:t.resize}},[t.autoLogining?e("div",{staticStyle:{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",display:"flex","align-items":"center","justify-content":"center"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"30px",height:"30px",viewBox:"0 0 24 24"}},[e("rect",{attrs:{width:"9",height:"9",x:"1.5",y:"1.5",fill:"currentColor",rx:"1"}},[e("animate",{attrs:{id:"svgSpinnersBlocksScale0",attributeName:"x",begin:"0;svgSpinnersBlocksScale1.end+0.15s",dur:"0.6s",keyTimes:"0;.2;1",values:"1.5;.5;1.5"}}),e("animate",{attrs:{attributeName:"y",begin:"0;svgSpinnersBlocksScale1.end+0.15s",dur:"0.6s",keyTimes:"0;.2;1",values:"1.5;.5;1.5"}}),e("animate",{attrs:{attributeName:"width",begin:"0;svgSpinnersBlocksScale1.end+0.15s",dur:"0.6s",keyTimes:"0;.2;1",values:"9;11;9"}}),e("animate",{attrs:{attributeName:"height",begin:"0;svgSpinnersBlocksScale1.end+0.15s",dur:"0.6s",keyTimes:"0;.2;1",values:"9;11;9"}})]),e("rect",{attrs:{width:"9",height:"9",x:"13.5",y:"1.5",fill:"currentColor",rx:"1"}},[e("animate",{attrs:{attributeName:"x",begin:"svgSpinnersBlocksScale0.begin+0.15s",dur:"0.6s",keyTimes:"0;.2;1",values:"13.5;12.5;13.5"}}),e("animate",{attrs:{attributeName:"y",begin:"svgSpinnersBlocksScale0.begin+0.15s",dur:"0.6s",keyTimes:"0;.2;1",values:"1.5;.5;1.5"}}),e("animate",{attrs:{attributeName:"width",begin:"svgSpinnersBlocksScale0.begin+0.15s",dur:"0.6s",keyTimes:"0;.2;1",values:"9;11;9"}}),e("animate",{attrs:{attributeName:"height",begin:"svgSpinnersBlocksScale0.begin+0.15s",dur:"0.6s",keyTimes:"0;.2;1",values:"9;11;9"}})]),e("rect",{attrs:{width:"9",height:"9",x:"13.5",y:"13.5",fill:"currentColor",rx:"1"}},[e("animate",{attrs:{attributeName:"x",begin:"svgSpinnersBlocksScale0.begin+0.3s",dur:"0.6s",keyTimes:"0;.2;1",values:"13.5;12.5;13.5"}}),e("animate",{attrs:{attributeName:"y",begin:"svgSpinnersBlocksScale0.begin+0.3s",dur:"0.6s",keyTimes:"0;.2;1",values:"13.5;12.5;13.5"}}),e("animate",{attrs:{attributeName:"width",begin:"svgSpinnersBlocksScale0.begin+0.3s",dur:"0.6s",keyTimes:"0;.2;1",values:"9;11;9"}}),e("animate",{attrs:{attributeName:"height",begin:"svgSpinnersBlocksScale0.begin+0.3s",dur:"0.6s",keyTimes:"0;.2;1",values:"9;11;9"}})]),e("rect",{attrs:{width:"9",height:"9",x:"1.5",y:"13.5",fill:"currentColor",rx:"1"}},[e("animate",{attrs:{id:"svgSpinnersBlocksScale1",attributeName:"x",begin:"svgSpinnersBlocksScale0.begin+0.45s",dur:"0.6s",keyTimes:"0;.2;1",values:"1.5;.5;1.5"}}),e("animate",{attrs:{attributeName:"y",begin:"svgSpinnersBlocksScale0.begin+0.45s",dur:"0.6s",keyTimes:"0;.2;1",values:"13.5;12.5;13.5"}}),e("animate",{attrs:{attributeName:"width",begin:"svgSpinnersBlocksScale0.begin+0.45s",dur:"0.6s",keyTimes:"0;.2;1",values:"9;11;9"}}),e("animate",{attrs:{attributeName:"height",begin:"svgSpinnersBlocksScale0.begin+0.45s",dur:"0.6s",keyTimes:"0;.2;1",values:"9;11;9"}})])])]):["login"===t.viewState?e("PageLogin"):t._e(),"backstage"===t.viewState?e("Layout"):t._e(),"user"===t.viewState?e("PageUser"):t._e()],e("LoadingWinBar"),e("CheckYesNo"),e("CheckYes")],2)},g=[],h=function(){var t=this,e=t._self._c;return e("WDialog",{attrs:{show:t.loading,maxWidth:t.dialogWidth},on:{"update:show":function(e){t.loading=e},resize:t.resizeDialog},scopedSlots:t._u([{key:"panel",fn:function(){return[e("div",{style:"padding:".concat(t.barPadding-5,"px ").concat(t.barPadding,"px ").concat(t.barPadding,"px ").concat(t.barPadding,"px;")},[e("div",{staticStyle:{"padding-bottom":"3px","font-size":"0.9rem",color:"#666"}},[""!==t.msg?e("span",[t._v(t._s(t.msg))]):e("span",[t._v(t._s(t.$t("processing")))])]),e("WProgressBar",{style:"width:".concat(t.barWidth,"px;"),attrs:{height:3,enableContinuous:!0,progColor:"deep-purple lighten-1",progBackgroundColor:"deep-purple lighten-4"}})],1)]},proxy:!0}])})},v=[],y=i(2642),x=i(6630),b={components:{WDialog:y.A,WProgressBar:x.A},props:{},data:function(){return{dialogWidth:0,dialogWidthMax:600,barPadding:20,barWidth:0,msg:""}},mounted:function(){var t=this;s.Ay.prototype.$dg.setLoadingWinBarMessage=t.setMessage},computed:{loading:function(){var t=this,e=(0,c.A)(t,"$store.state.loading");return e}},methods:{setMessage:function(t){this.msg=t},resizeDialog:function(t){var e=this,i=window.innerWidth,r=i-2*e.barPadding;r=Math.max(r,0),r=Math.min(r,e.dialogWidthMax),e.dialogWidth=r;var o=r-2*e.barPadding;o=Math.max(o,0),e.barWidth=o}}},w=b,A=i(1656),k=(0,A.A)(w,h,v,!1,null,"9bcb4aee",null),C=k.exports,S=function(){var t=this,e=t._self._c;return e("WConfirm",{attrs:{show:t.bShow,title:t.$t("systemMessage"),content:t.content,_contentColor:"white",_contentIconColor:"white",_contentBackgroundColor:"orange lighten-5",_titleColor:"white",headerBackgroundColor:"grey lighten-3",noBtnText:t.$t("no"),yesBtnText:t.$t("yes")},on:{"update:show":function(e){t.bShow=e},"click-no":function(e){return t.clickBtn(!1)},"click-yes":function(e){return t.clickBtn(!0)}}})},$=[],I=i(2942),_=i(1844),T={components:{WConfirm:_.A},props:{},data:function(){return{bShow:!1,pm:null,content:""}},mounted:function(){var t=this;s.Ay.prototype.$dg.showCheckYesNo=t.show},computed:{},methods:{show:function(t){var e=this;return e.pm=(0,I.A)(),e.content=t,e.bShow=!0,e.pm},clickBtn:function(t){var e=this;t?e.pm.resolve():e.pm.reject("close"),e.bShow=!1}}},H=T,B=(0,A.A)(H,S,$,!1,null,"cfad0048",null),E=B.exports,L=function(){var t=this,e=t._self._c;return e("WConfirm",{attrs:{show:t.bShow,title:t.$t("systemMessage"),content:t.content,_contentColor:"white",_contentIconColor:"white",_contentBackgroundColor:"orange lighten-5",headerBackgroundColor:"grey lighten-3",hasNoBtn:!1,yesBtnText:t.$t("ok")},on:{"update:show":function(e){t.bShow=e},"click-yes":function(e){return t.clickUnit()}}})},U=[],P={components:{WConfirm:_.A},props:{},data:function(){return{bShow:!1,pm:null,content:""}},mounted:function(){var t=this;s.Ay.prototype.$dg.showCheckYes=t.show},computed:{},methods:{show:function(t){var e=this;return e.pm=(0,I.A)(),e.content=t,e.bShow=!0,e.pm},clickUnit:function(){var t=this;t.pm.resolve(),t.bShow=!1}}},D=P,W=(0,A.A)(D,L,U,!1,null,"9943c370",null),N=W.exports,Y=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{position:"relative",width:"100vw",height:"100svh"}},[e("div",{style:"\n            position:absolute; top:0px; left:0px; width:100%; height:100%; display:flex; align-items:center; justify-content:center;\n            background-image: linear-gradient(-225deg, ".concat(t.c1," 0%, ").concat(t.c2," 50%, ").concat(t.c3," 100%);\n        ")},[e("div",{},[e("div",{style:"padding-top:".concat(t.logoSize/2,"px;")}),e("div",{style:"\n                    position:relative;\n                    width:".concat(t.contentWidth,"px; padding:10px; border-radius:30px; background:").concat(t.c4,";\n                    box-shadow: rgb(0 0 0 / 2%) 2.76726px 2.76726px 2.21381px 0px, rgb(0 0 0 / 3%) 6.6501px 6.6501px 5.32008px 0px, rgb(0 0 0 / 4%) 12.5216px 12.5216px 10.0172px 0px, rgb(0 0 0 / 4%) 22.3363px 22.3363px 17.869px 0px, rgb(0 0 0 / 5%) 41.7776px 41.7776px 33.4221px 0px, rgb(0 0 0 / 7%) 100px 100px 80px 0px;\n                ")},[e("div",{style:"position:absolute; top:0px; left:50%; transform:translateX(-50%) translateY(-50%); padding:15px 15px 10px 15px; border-radius:50%; background:".concat(t.c5,";")},[e("img",{attrs:{width:t.logoSize,height:t.logoSize,src:t.webLogo}})]),e("div",{style:"padding:".concat(t.logoSize/2+t.contentPadding,"px ").concat(t.contentPadding,"px ").concat(t.contentPadding,"px ").concat(t.contentPadding,"px;")},[e("div",{staticStyle:{"padding-bottom":"20px","text-align":"center","font-size":"1.3rem"}},[t._v(" "+t._s(t.webName)+" ")]),e("div",{staticStyle:{display:"flex","align-items":"stretch"}},[e("div",{staticStyle:{display:"flex","align-items":"center",padding:"0px 10px",background:"rgba(34, 44, 77, 0.9)"}},[e("WIcon",{attrs:{icon:"mdi-account",color:"#ddd",colorHover:"#eee",size:24}})],1),e("div",{staticStyle:{width:"100%",padding:"5px 10px",background:"rgba(34, 44, 77, 0.8)"}},[e("div",{style:"font-size:0.8rem; color:#eee;"},[t._v(" "+t._s(t.$t("account"))+" ")]),e("WText",{attrs:{textColor:"#fff",bottomLineBorderColor:"#b6b6b6",bottomLineBorderColorHover:"#ccc",bottomLineBorderColorFocus:"#ddd"},on:{enter:t.login},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}})],1)]),e("div",{staticStyle:{"padding-top":"10px"}}),e("div",{staticStyle:{display:"flex","align-items":"stretch"}},[e("div",{staticStyle:{display:"flex","align-items":"center",padding:"0px 10px",background:"rgba(34, 44, 77, 0.9)"}},[e("WIcon",{attrs:{icon:"mdi-lock",color:"#ddd",colorHover:"#eee",size:24}})],1),e("div",{staticStyle:{width:"100%",padding:"5px 10px",background:"rgba(34, 44, 77, 0.8)"}},[e("div",{style:"font-size:0.8rem; color:#eee;"},[t._v(" "+t._s(t.$t("password"))+" ")]),e("WText",{attrs:{textColor:"#fff",bottomLineBorderColor:"#b6b6b6",bottomLineBorderColorHover:"#ccc",bottomLineBorderColorFocus:"#ddd",rightIcon:t.showPassword?"mdi-eye":"mdi-eye-off",rightIconColor:"#ddd",rightIconColorHover:"#eee",rightIconColorFocus:"#ddd",rightIconTooltip:t.showPassword?t.$t("toggleToHidePassword"):t.$t("toggleToShowPassword"),password:!t.showPassword},on:{"click-right":function(e){t.showPassword=!t.showPassword},enter:t.login},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)]),e("div",{staticStyle:{"padding-top":"30px"}}),e("div",{staticStyle:{padding:"5px 0px","text-align":"center"}},[e("WButtonChip",{style:"opacity:".concat(t.hasAcPw?1:.5,";"),attrs:{text:t.$t("login"),textFontSize:"1.0rem",paddingStyle:{v:8,h:130},backgroundColor:"rgba(255,255,255,0.5)",backgroundColorHover:"rgba(255,255,255,0.7)",_shadow:"false",editable:t.hasAcPw},on:{click:t.login}})],1)])])])]),e("div",{staticStyle:{position:"absolute",top:"10px",right:"10px"}},[t.showLangSelect?e("div",{staticStyle:{"white-space":"nowrap"}},[e("WTextSelect",{staticStyle:{width:"100px"},attrs:{items:t.keysLang,value:t.lang},on:{input:t.toggleLang},scopedSlots:t._u([{key:"select",fn:function(e){return[t._v(" "+t._s(t.getLangText(e.item))+" ")]}},{key:"item",fn:function(e){return[t._v(" "+t._s(t.getLangText(e.item))+" ")]}}],null,!1,2218956916)})],1):t._e()])])},M=[],z=i(5021),K=i(293),F=i(4250),O=i(9461),V=i(1945),G={components:{WIcon:K.A,WText:F.A,WTextSelect:O.A,WButtonChip:V.A},props:{},data:function(){return{firstSetting:!0,showLangSelect:!1,keysLang:["eng","cht"],kpLangSelect:{eng:"English",cht:"中文"},logoSize:120,contentWidth:380,contentPadding:30,account:"",showPassword:!1,password:""}},mounted:function(){var t=this;if(t.firstSetting){var e=(0,c.A)(t,"webInfor.showLanguage","");t.showLangSelect="y"===e;var i=(0,c.A)(t,"webInfor.language","");t.$ui.setLang(i,"layout mounted"),t.firstSetting=!1}},computed:{webName:{get:function(){var t=this,e=t.$t("webName","");return(0,z.A)(e)||(e=t.$t("waitingData","")),document.title=e,e}},lang:function(){var t=this;return(0,c.A)(t,"$store.state.lang","")},webInfor:function(){var t=(0,c.A)(this,"$store.state.webInfor");return t},webLogo:function(){var t=this;return(0,c.A)(t,"webInfor.webLogo","")},webBackgoundGradientColors:function(){var t=this;return(0,c.A)(t,"webInfor.webBackgoundGradientColors",[])},c1:function(){var t=this,e=(0,c.A)(t,"webBackgoundGradientColors.0","#fff");return e},c2:function(){var t=this,e=(0,c.A)(t,"webBackgoundGradientColors.1","#fff");return e},c3:function(){var t=this,e=(0,c.A)(t,"webBackgoundGradientColors.2","#fff");return e},c4:function(){var t=this,e=(0,c.A)(t,"webBackgoundGradientColors.3","#fff");return e},c5:function(){var t=this,e=(0,c.A)(t,"webBackgoundGradientColors.4","#fff");return e},webKey:function(){var t=this;return(0,c.A)(t,"$store.state.webInfor.webKey","")},hasAcPw:function(){var t=this;return(0,z.A)(t.account)&&(0,z.A)(t.password)}},methods:{getLangText:function(t){var e=this,i=(0,c.A)(e,"kpLangSelect.".concat(t),"");return i},toggleLang:function(t){var e=this;e.$ui.setLang(t,"toggle")},login:function(){var t=this,e=t.$ui.getUrlView();t.$ui.login(t.account,t.password,{useRedir:"login"===e}).then((function(){t.$ui.updateViewState(e),console.log("login, goto view[".concat(e,"] page"))})).catch((function(e){t.$ui.updateViewState("login"),console.log("login err[".concat(e,"], goto view['login'] page"))}))}}},R=G,j=(0,A.A)(R,Y,M,!1,null,"07e08432",null),Z=j.exports,Q=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{height:"100svh",background:"#f5f5f5"}},[e("div",{style:"height:".concat(t.heightToolbar,"px; overflow-y:hidden; padding:0px 10px; background:#fff; border-bottom:1px solid #ccc; display:flex; align-items:center;")},[e("div",{staticStyle:{"padding-left":"5px"}},[e("div",{staticStyle:{display:"flex","align-items":"center"}},[t.webLogo?e("div",{staticStyle:{"padding-right":"10px",display:"flex","align-items":"center"}},[e("img",{staticStyle:{width:"36px","min-width":"36px",height:"36px"},attrs:{src:t.webLogo}})]):t._e(),e("div",{staticStyle:{"white-space":"nowrap"}},[e("div",{staticStyle:{"font-size":"1.2rem",color:"#000"}},[t._v(t._s(t.webName))]),e("div",{staticStyle:{"font-size":"0.8rem",color:"#666"}},[t._v(t._s(t.$t("webDescription")))])])])]),e("div",{staticStyle:{width:"100%"}}),t.showLangSelect?e("div",{staticStyle:{"padding-right":"10px","white-space":"nowrap"}},[e("WTextSelect",{staticStyle:{width:"100px"},attrs:{items:t.keysLang,value:t.lang},on:{input:t.toggleLang},scopedSlots:t._u([{key:"select",fn:function(e){return[t._v(" "+t._s(t.getLangText(e.item))+" ")]}},{key:"item",fn:function(e){return[t._v(" "+t._s(t.getLangText(e.item))+" ")]}}],null,!1,2218956916)})],1):t._e(),e("div",{staticStyle:{"padding-right":"10px",display:"flex","align-items":"center"}},[e("WPopup",{attrs:{isolated:!0,_show:"",_hide:""},scopedSlots:t._u([{key:"trigger",fn:function(){return[e("div",{staticStyle:{display:"flex","align-items":"center","white-space":"nowrap","user-select":"none",cursor:"pointer"}},[e("div",{staticStyle:{"padding-top":"2px"}},[e("WIcon",{attrs:{icon:t.mdiAccountCircleOutline,size:20}})],1),e("div",{staticStyle:{"padding-left":"5px","font-size":"0.85rem"}},[t._v(" "+t._s(t.userName)+" ")])])]},proxy:!0},{key:"content",fn:function(){return[e("div",{staticStyle:{padding:"10px"}},[e("div",{staticStyle:{display:"flex","align-items":"center","white-space":"nowrap","user-select":"none",cursor:"pointer"},on:{click:t.logout}},[e("div",{staticStyle:{"padding-top":"2px"}},[e("WIcon",{attrs:{icon:t.mdiLogoutVariant,size:18}})],1),e("div",{staticStyle:{"padding-left":"5px","font-size":"0.8rem"}},[t._v(" "+t._s(t.$t("logout"))+" ")])])])]},proxy:!0}])})],1)]),e("div",{style:"height:calc( 100% - ".concat(t.heightToolbar,"px );")},[e("LayoutContent")],1)])},q=[],J=i(9165),X=i(1912),tt=i(7193),et=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"domresize",rawName:"v-domresize"}],staticStyle:{height:"100%",width:"100%"},on:{domresize:t.resize}},[t.syncState?[e("WDrawer",{style:"height:".concat(t.panelHeight,"px; width:100%;"),attrs:{drawerWidth:t.drawerWidth,drawerWidthMin:t.drawerWidthMin,drawerWidthMax:t.drawerWidthMax,mode:"from-left",dragDrawerWidth:!0,autoSwitchToHide:!0,autoSwitchToShow:!0,autoSwitchToFloat:!0,switchWidth:2.3*t.drawerWidth},on:{"update:drawerWidth":function(e){t.drawerWidth=e},"update:drawer-width":function(e){t.drawerWidth=e}},scopedSlots:t._u([{key:"drawer",fn:function(i){return[e("div",{style:"height:".concat(i.height,"px; background:#fff; position:relative;")},[e("WListVertical",{staticStyle:{height:"100%"},attrs:{items:t.menus,itemActive:t.menuActive,"item-text-color":"#222","item-text-color-hover":"#444","item-text-color-active":"#EF6C00","item-icon-color":"#222","item-icon-color-hover":"#444","item-icon-color-active":"#EF6C00","item-background-color":"#fff","item-background-color-hover":"#f2f2f2","item-background-color-active":"#FFF3E0",paddingStyle:{v:15,h:15}},on:{click:function(e){t.menuKey=e.key}}}),t.drawer?e("div",{style:"position:absolute; top:2px; right:4px;"},[e("WButtonCircle",{attrs:{paddingStyle:{h:2,v:2},icon:t.mdiArrowLeftBoldHexagonOutline,iconSize:20,backgroundColor:"rgba(255,255,255,0.1)",backgroundColorHover:"rgba(255,255,255,0.4)",backgroundColorFocus:"rgba(255,255,255,0.7)",borderColor:"transparent",borderColorHover:"transparent",borderColorFocus:"transparent",_tooltip:"$t('menuTreeHide')",shadow:!1},on:{click:function(e){t.drawer=!1}}})],1):t._e()],1)]}},{key:"content",fn:function(i){return[e("div",{style:"height:".concat(i.height,"px; width:").concat(i.width,"px; position:relative;")},[["mmStaInfor"===t.menuKey?e("LayoutContentStaInfor"):t._e(),"mmUserInfor"===t.menuKey?e("LayoutContentUserInfor"):t._e(),"mmUsersList"===t.menuKey?e("LayoutContentUsers"):t._e(),"mmTokensList"===t.menuKey?e("LayoutContentTokens"):t._e(),"mmIpsList"===t.menuKey?e("LayoutContentIps"):t._e()],t.drawer?t._e():e("div",{style:"position:absolute; top:3px; left:5px;"},[e("WButtonCircle",{attrs:{paddingStyle:{h:2,v:2},icon:t.mdiArrowRightBoldHexagonOutline,iconSize:20,backgroundColor:"rgba(255,255,255,0.1)",backgroundColorHover:"rgba(255,255,255,0.4)",backgroundColorFocus:"rgba(255,255,255,0.7)",borderColor:"transparent",borderColorHover:"transparent",borderColorFocus:"transparent",_tooltip:"$t('menuTreeShow')",shadow:!1},on:{click:function(e){t.drawer=!0}}})],1)],2)]}}],null,!1,474508006),model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}})]:e("div",{staticStyle:{padding:"20px","font-size":"0.9rem"}},[t._v(" "+t._s(t.$t("waitingData"))+" ")])],2)},it=[],rt=i(6145),ot=i(8818),nt=i(4491),at=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"domresize",rawName:"v-domresize"}],staticStyle:{height:"100%"},attrs:{changeLang:t.changeLang},on:{domresize:t.resizePanel}},[t.isLoading?[t.isLoading?e("div",{staticStyle:{padding:"10px 15px","font-size":"0.8rem"}},[t._v(" "+t._s(t.$t("waitingData"))+" ")]):t._e(),t.errMsg?e("div",{staticStyle:{padding:"10px 15px","font-size":"0.8rem"}},[t._v(" "+t._s(t.errMsg)+" ")]):t._e()]:e("div",{staticStyle:{height:"100%",background:"#f9fafb","overflow-y":"auto"}},[e("div",{staticStyle:{padding:"20px 30px"}},[e("div",{staticClass:"mb-8"},[e("div",{staticStyle:{"font-size":"1.5rem","font-weight":"600"}},[t._v(t._s(t.$t("statisticsInformation")))]),e("div",{staticStyle:{"font-size":"0.9rem",color:"#6b7280"}},[t._v(t._s(t.$t("statisticsInformationDescription")))])]),e("div",{staticClass:"space-y-8"},[e("div",[e("div",{staticClass:"pb-1 text-gray-500 flex items-center"},[e("i",{staticClass:"text-2xl mdi mdi-shield-account-outline mr-2"}),e("span",{staticClass:"text-sm"},[t._v(t._s(t.$t("userGroupInfor")))])]),e("div",{staticClass:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5"},[e("div",{staticClass:"bg-white p-5 rounded-lg shadow-sm border border-gray-200 flex items-center"},[t._m(0),e("div",{staticClass:"ml-4"},[e("div",{staticClass:"text-gray-500 text-sm"},[t._v(t._s(t.$t("totalUsers")))]),e("div",{staticClass:"text-2xl font-bold text-gray-900"},[t._v(t._s(t.userOverview.total||0))])])]),e("div",{staticClass:"bg-white p-5 rounded-lg shadow-sm border border-gray-200 flex items-center"},[t._m(1),e("div",{staticClass:"ml-4"},[e("div",{staticClass:"text-gray-500 text-sm"},[t._v(t._s(t.$t("activeUsers")))]),e("div",{staticClass:"text-2xl font-bold text-gray-900"},[t._v(t._s(t.userOverview.active||0))])])]),e("div",{staticClass:"bg-white p-5 rounded-lg shadow-sm border border-gray-200 flex items-center"},[t._m(2),e("div",{staticClass:"ml-4"},[e("div",{staticClass:"text-gray-500 text-sm"},[t._v(t._s(t.$t("blockedUsers")))]),e("div",{staticClass:"text-2xl font-bold text-gray-900"},[t._v(t._s(t.userOverview.locked||0))])])]),e("div",{staticClass:"bg-white p-5 rounded-lg shadow-sm border border-gray-200 flex items-center"},[t._m(3),e("div",{staticClass:"ml-4"},[e("div",{staticClass:"text-gray-500 text-sm"},[t._v(t._s(t.$t("expiredUsers")))]),e("div",{staticClass:"text-2xl font-bold text-gray-900"},[t._v(t._s(t.userOverview.expired||0))])])])])]),e("div",[e("div",{staticClass:"pb-1 text-gray-500 flex items-center"},[e("i",{staticClass:"text-2xl mdi mdi-chart-box-outline mr-2"}),e("span",{staticClass:"text-sm"},[t._v(t._s(t.$t("accessActivityMonitoring")))])]),e("div",{staticClass:"grid grid-cols-1 lg:grid-cols-1 gap-6"},[e("div",{staticClass:"bg-white p-5 rounded-lg shadow-sm border border-gray-200"},[e("div",{staticClass:"pb-2 flex items-center font-semibold text-gray-700"},[e("i",{staticClass:"text-4xl mdi mdi-login-variant mr-2 text-purple-600"}),e("span",{staticClass:"text-lg"},[t._v(t._s(t.$t("userLoginFrequency")))])]),e("div",{staticClass:"flex justify-between items-center"},[e("div",{staticClass:"text-xs text-gray-500 mb-4"},[t._v(t._s(t.$t("last7Days")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.timeGroupLogin,expression:"timeGroupLogin"}],staticClass:"border rounded px-2 py-1 text-sm",on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.timeGroupLogin=e.target.multiple?i:i[0]},t.updateChartsDebounce]}},t._l(t.timeGroupOptions,(function(i){return e("option",{key:i,domProps:{value:i}},[t._v(t._s(t.$t("selectItem".concat(i))))])})),0)]),t.optLogin?e("WEchartsVueDyn",{staticStyle:{width:"100%",height:"300px"},attrs:{options:t.optLogin}}):e("div",{staticStyle:{padding:"0px","font-size":"0.8rem",color:"#777"}},[t._v(" "+t._s(t.$t("waitingData"))+" ")])],1),e("div",{staticClass:"bg-white p-5 rounded-lg shadow-sm border border-gray-200"},[e("div",{staticClass:"pb-2 flex items-center font-semibold text-gray-700"},[e("i",{staticClass:"text-2xl mdi mdi-ticket-confirmation-outline mr-2 text-purple-600"}),e("span",{staticClass:"text-lg"},[t._v(t._s(t.$t("tokenUsageFrequency")))])]),e("div",{staticClass:"flex justify-between items-center"},[e("div",{staticClass:"text-xs text-gray-500 mb-4"},[t._v(t._s(t.$t("last7Days")))]),e("div",{staticClass:"flex items-center space-x-4"},[e("div",{staticClass:"flex items-center"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.showIndividuallyToken,expression:"showIndividuallyToken"}],staticClass:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500",attrs:{id:"showIndividuallyToken",type:"checkbox"},domProps:{checked:Array.isArray(t.showIndividuallyToken)?t._i(t.showIndividuallyToken,null)>-1:t.showIndividuallyToken},on:{change:[function(e){var i=t.showIndividuallyToken,r=e.target,o=!!r.checked;if(Array.isArray(i)){var n=null,a=t._i(i,n);r.checked?a<0&&(t.showIndividuallyToken=i.concat([n])):a>-1&&(t.showIndividuallyToken=i.slice(0,a).concat(i.slice(a+1)))}else t.showIndividuallyToken=o},t.updateChartsDebounce]}}),e("label",{staticClass:"ml-2 text-sm font-medium text-gray-900",attrs:{for:"showIndividuallyToken"}},[t._v(t._s(t.$t("showIndividually")))])]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.timeGroupToken,expression:"timeGroupToken"}],staticClass:"border rounded px-2 py-1 text-sm",on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.timeGroupToken=e.target.multiple?i:i[0]},t.updateChartsDebounce]}},t._l(t.timeGroupOptions,(function(i){return e("option",{key:i,domProps:{value:i}},[t._v(t._s(t.$t("selectItem".concat(i))))])})),0)])]),t.optToken?e("WEchartsVueDyn",{staticStyle:{width:"100%",height:"300px"},attrs:{options:t.optToken}}):e("div",{staticStyle:{padding:"0px","font-size":"0.8rem",color:"#777"}},[t._v(" "+t._s(t.$t("waitingData"))+" ")]),t.tokenUsageSummary.length>0?e("div",{staticClass:"mt-4"},[e("div",{staticClass:"overflow-x-auto relative shadow-md"},[e("div",{style:"".concat(t.showAllTokenUsers?"max-height:400px; overflow-y:auto;":"")},[e("table",{staticClass:"w-full text-sm text-left text-gray-500 border-collapse"},[e("thead",{staticClass:"text-xs text-gray-700 bg-gray-50 sticky top-0 z-10 shadow-sm"},[e("tr",[e("th",{staticClass:"py-3 px-6 border border-solid border-gray-200 w-7",attrs:{scope:"col"}},[t._v(t._s(t.$t("numberOrder")))]),e("th",{staticClass:"py-3 px-6 border border-solid border-gray-200",attrs:{scope:"col"}},[t._v(t._s(t.$t("username")))]),e("th",{staticClass:"py-3 px-6 border border-solid border-gray-200",attrs:{scope:"col"}},[t._v(t._s(t.$t("total")))]),e("th",{staticClass:"py-3 px-6 border border-solid border-gray-200",attrs:{scope:"col"}},[t._v(t._s(t.$t("last1Day")))]),e("th",{staticClass:"py-3 px-6 border border-solid border-gray-200",attrs:{scope:"col"}},[t._v(t._s(t.$t("last8Hour")))]),e("th",{staticClass:"py-3 px-6 border border-solid border-gray-200",attrs:{scope:"col"}},[t._v(t._s(t.$t("last4Hour")))]),e("th",{staticClass:"py-3 px-6 border border-solid border-gray-200",attrs:{scope:"col"}},[t._v(t._s(t.$t("last1Hour")))])])]),e("tbody",t._l(t.displayTokenUsageSummary,(function(i,r){return e("tr",{key:r,staticClass:"hover:bg-gray-50 transition-colors"},[e("td",{staticClass:"py-4 px-6 border border-solid border-gray-200 w-7"},[t._v(t._s(i.number))]),e("td",{staticClass:"py-4 px-6 border border-solid border-gray-200"},[t._v(t._s(i.username))]),e("td",{staticClass:"py-4 px-6 border border-solid border-gray-200"},[t._v(t._s(t.formatNumber(i.total)))]),e("td",{staticClass:"py-4 px-6 border border-solid border-gray-200"},[t._v(t._s(t.formatNumber(i.last1d)))]),e("td",{staticClass:"py-4 px-6 border border-solid border-gray-200"},[t._v(t._s(t.formatNumber(i.last8h)))]),e("td",{staticClass:"py-4 px-6 border border-solid border-gray-200"},[t._v(t._s(t.formatNumber(i.last4h)))]),e("td",{staticClass:"py-4 px-6 border border-solid border-gray-200"},[t._v(t._s(t.formatNumber(i.last1h)))])])})),0)])])]),e("div",{staticClass:"text-right mt-2"},[e("span",{staticClass:"text-blue-600 hover:underline text-sm cursor-pointer",on:{click:t.toggleShowAllTokenUsers}},[t._v(" "+t._s(t.showAllTokenUsers?t.$t("showMax5"):t.$t("showAll"))+" ")])])]):t._e()],1),e("div",{staticClass:"bg-white p-5 rounded-lg shadow-sm border border-gray-200"},[e("div",{staticClass:"pb-2 flex items-center font-semibold text-gray-700"},[e("i",{staticClass:"text-2xl mdi mdi-access-point-network mr-2 text-purple-600"}),e("span",{staticClass:"text-lg"},[t._v(t._s(t.$t("ipConnectionFrequency")))])]),e("div",{staticClass:"flex justify-between items-center"},[e("div",{staticClass:"text-xs text-gray-500 mb-4"},[t._v(t._s(t.$t("last7Days")))]),e("div",{staticClass:"flex items-center space-x-4"},[e("div",{staticClass:"flex items-center"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.showIndividuallyIp,expression:"showIndividuallyIp"}],staticClass:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500",attrs:{id:"showIndividuallyIp",type:"checkbox"},domProps:{checked:Array.isArray(t.showIndividuallyIp)?t._i(t.showIndividuallyIp,null)>-1:t.showIndividuallyIp},on:{change:[function(e){var i=t.showIndividuallyIp,r=e.target,o=!!r.checked;if(Array.isArray(i)){var n=null,a=t._i(i,n);r.checked?a<0&&(t.showIndividuallyIp=i.concat([n])):a>-1&&(t.showIndividuallyIp=i.slice(0,a).concat(i.slice(a+1)))}else t.showIndividuallyIp=o},t.updateChartsDebounce]}}),e("label",{staticClass:"ml-2 text-sm font-medium text-gray-900",attrs:{for:"showIndividuallyIp"}},[t._v(t._s(t.$t("showIndividually")))])]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.timeGroupIp,expression:"timeGroupIp"}],staticClass:"border rounded px-2 py-1 text-sm",on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.timeGroupIp=e.target.multiple?i:i[0]},t.updateChartsDebounce]}},t._l(t.timeGroupOptions,(function(i){return e("option",{key:i,domProps:{value:i}},[t._v(t._s(t.$t("selectItem".concat(i))))])})),0)])]),t.optIp?e("WEchartsVueDyn",{staticStyle:{width:"100%",height:"300px"},attrs:{options:t.optIp}}):e("div",{staticStyle:{padding:"0px","font-size":"0.8rem",color:"#777"}},[t._v(" "+t._s(t.$t("waitingData"))+" ")]),t.ipUsageSummary.length>0?e("div",{staticClass:"mt-4"},[e("div",{staticClass:"overflow-x-auto relative shadow-md"},[e("div",{style:"".concat(t.showAllIpUsers?"max-height:400px; overflow-y:auto;":"")},[e("table",{staticClass:"w-full text-sm text-left text-gray-500 border-collapse"},[e("thead",{staticClass:"text-xs text-gray-700 bg-gray-50 sticky top-0 z-10 shadow-sm"},[e("tr",[e("th",{staticClass:"py-3 px-6 border border-solid border-gray-200 w-7",attrs:{scope:"col"}},[t._v(t._s(t.$t("numberOrder")))]),e("th",{staticClass:"py-3 px-6 border border-solid border-gray-200",attrs:{scope:"col"}},[t._v(t._s(t.$t("ip")))]),e("th",{staticClass:"py-3 px-6 border border-solid border-gray-200",attrs:{scope:"col"}},[t._v(t._s(t.$t("total")))]),e("th",{staticClass:"py-3 px-6 border border-solid border-gray-200",attrs:{scope:"col"}},[t._v(t._s(t.$t("last1Day")))]),e("th",{staticClass:"py-3 px-6 border border-solid border-gray-200",attrs:{scope:"col"}},[t._v(t._s(t.$t("last8Hour")))]),e("th",{staticClass:"py-3 px-6 border border-solid border-gray-200",attrs:{scope:"col"}},[t._v(t._s(t.$t("last4Hour")))]),e("th",{staticClass:"py-3 px-6 border border-solid border-gray-200",attrs:{scope:"col"}},[t._v(t._s(t.$t("last1Hour")))])])]),e("tbody",t._l(t.displayIpUsageSummary,(function(i,r){return e("tr",{key:r,staticClass:"hover:bg-gray-50 transition-colors"},[e("td",{staticClass:"py-4 px-6 border border-solid border-gray-200 w-7"},[t._v(t._s(i.number))]),e("td",{staticClass:"py-4 px-6 border border-solid border-gray-200"},[t._v(t._s(i.ip))]),e("td",{staticClass:"py-4 px-6 border border-solid border-gray-200"},[t._v(t._s(t.formatNumber(i.total)))]),e("td",{staticClass:"py-4 px-6 border border-solid border-gray-200"},[t._v(t._s(t.formatNumber(i.last1d)))]),e("td",{staticClass:"py-4 px-6 border border-solid border-gray-200"},[t._v(t._s(t.formatNumber(i.last8h)))]),e("td",{staticClass:"py-4 px-6 border border-solid border-gray-200"},[t._v(t._s(t.formatNumber(i.last4h)))]),e("td",{staticClass:"py-4 px-6 border border-solid border-gray-200"},[t._v(t._s(t.formatNumber(i.last1h)))])])})),0)])])]),e("div",{staticClass:"text-right mt-2"},[e("span",{staticClass:"text-blue-600 hover:underline text-sm cursor-pointer",on:{click:t.toggleShowAllIpUsers}},[t._v(" "+t._s(t.showAllIpUsers?t.$t("showMax5"):t.$t("showAll"))+" ")])])]):t._e()],1)])]),e("div",[e("div",{staticClass:"pb-1 text-gray-500 flex items-center"},[e("i",{staticClass:"text-2xl mdi mdi-monitor-account mr-2"}),e("span",{staticClass:"text-sm"},[t._v(t._s(t.$t("controlStatus")))])]),e("div",{staticClass:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5"},[e("div",{staticClass:"bg-white p-5 rounded-lg shadow-sm border border-gray-200"},[e("div",{staticClass:"pb-3 flex items-center mb-2"},[e("i",{staticClass:"text-2xl mdi mdi-folder-key-network-outline text-indigo-600 mr-2"}),e("div",{staticClass:"font-semibold text-gray-700"},[t._v(t._s(t.$t("tokenCharacteristic")))])]),e("div",{staticClass:"space-y-2 text-sm"},[e("div",{staticClass:"flex justify-between"},[e("span",[t._v(t._s(t.$t("activeTokens"))+":")]),t._v(" "),e("span",{staticClass:"font-bold"},[t._v(t._s(t.tokenStatus.active||0))])]),e("div",{staticClass:"flex justify-between"},[e("span",[t._v(t._s(t.$t("createdLast24h"))+":")]),t._v(" "),e("span",{staticClass:"font-bold"},[t._v(t._s(t.tokenStatus.created24h||0))])]),e("div",{staticClass:"flex justify-between"},[e("span",[t._v(t._s(t.$t("endingNext24h"))+":")]),t._v(" "),e("span",{staticClass:"font-bold"},[t._v(t._s(t.tokenStatus.ending24h||0))])]),e("div",{staticClass:"flex justify-between"},[e("span",[t._v(t._s(t.$t("endedTokens"))+":")]),t._v(" "),e("span",{staticClass:"font-bold"},[t._v(t._s(t.tokenStatus.ended||0))])])])]),e("div",{staticClass:"bg-white p-5 rounded-lg shadow-sm border border-gray-200"},[e("div",{staticClass:"pb-3 flex items-center mb-2"},[e("i",{staticClass:"text-2xl mdi mdi-ip-network-outline text-teal-600 mr-2"}),e("div",{staticClass:"font-semibold text-gray-700"},[t._v(t._s(t.$t("ipCharacteristic")))])]),e("div",{staticClass:"space-y-2 text-sm"},[e("div",{staticClass:"flex justify-between"},[e("span",[t._v(t._s(t.$t("conn24h"))+":")]),t._v(" "),e("span",{staticClass:"font-bold"},[t._v(t._s(t.ipCharacteristic.conn24h||0))])]),e("div",{staticClass:"flex justify-between"},[e("span",[t._v(t._s(t.$t("blockedIps"))+":")]),t._v(" "),e("span",{staticClass:"font-bold"},[t._v(t._s(t.ipCharacteristic.blocked||0))])])])])])])])])])],2)},st=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-blue-100 p-3 rounded-full"},[e("i",{staticClass:"mdi mdi-account-group-outline mdi-24px text-blue-600"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-green-100 p-3 rounded-full"},[e("i",{staticClass:"mdi mdi-account-check-outline mdi-24px text-green-600"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-red-100 p-3 rounded-full"},[e("i",{staticClass:"mdi mdi-account-lock-outline mdi-24px text-red-600"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-yellow-100 p-3 rounded-full"},[e("i",{staticClass:"mdi mdi-account-clock-outline mdi-24px text-yellow-600"})])}],ct=i(467),dt=i(4756),lt=i.n(dt),ut=i(4353),pt=i.n(ut),ft=i(6036),mt=i(4722),gt=i(6902),ht=i(7422),vt=i(4739),yt=i(7206),xt=i(8024),bt=i(5422),wt=i(4523),At=i(1244),kt=i(694),Ct=i(1969),St=i(6262),$t=i(6702),It=i(9526),_t=i(4985),Tt={components:{WEchartsVueDyn:_t.A},props:{},data:function(){return{dbc:(0,It.A)(300),panelWidth:100,panelHeight:100,isLoading:!0,errMsg:"",userOverview:{},freqLogin:[],freqToken:[],freqIp:[],tokenStatus:{},ipCharacteristic:{},timeGroupLogin:"1hr",timeGroupToken:"1hr",timeGroupIp:"1hr",timeGroupOptions:["1hr","4hr","8hr","1day"],optLogin:null,optToken:null,optIp:null,showIndividuallyToken:!1,showIndividuallyIp:!1,tokenUsageSummary:[],showAllTokenUsers:!1,ipUsageSummary:[],showAllIpUsers:!1}},mounted:function(){var t=this;t.getAndRelaData()},computed:{userToken:function(){var t=this;return(0,c.A)(t,"$store.state.userToken")},lang:function(){var t=this;return(0,c.A)(t,"$store.state.lang","")},webInfor:function(){var t=(0,c.A)(this,"$store.state.webInfor");return t},changeLang:function(){var t=this,e=t.lang;return t.updateChartsDebounce(e),""},displayTokenUsageSummary:function(){var t=this;return t.showAllTokenUsers?t.tokenUsageSummary:t.tokenUsageSummary.slice(0,5)},displayIpUsageSummary:function(){var t=this;return t.showAllIpUsers?t.ipUsageSummary:t.ipUsageSummary.slice(0,5)}},methods:{resizePanel:function(t){var e=this;e.panelWidth=t.snew.offsetWidth,e.panelHeight=t.snew.offsetHeight},genOpt:function(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"1hr",o=this;if(0===(0,gt.A)(e))return null;(0,Ct.A)(i)||(i=[i]);var n=e;if("1hr"!==r){var a=4;"8hr"===r?a=8:"1day"===r&&(a=24);var s=(0,vt.A)(e,(function(t){var e=pt()(t.time),i=e.hour(),r=Math.floor(i/a),o=e.startOf("day").add(r*a,"hour");return o.format()}));n=(0,mt.A)(s,(function(t,e){var r={time:e,data:{}};return(0,ft.A)(i,(function(e){r.data[e]=(0,yt.A)(t,"data.".concat(e))})),r}))}var d=["#3b82f6","#ef4444","#10b981","#f97316","#8b5cf6","#6366f1","#eab308","#ec4899","#14b8a6","#a855f7"];function l(t){return d[t%d.length]}var u={count:"count",attempt:"countAttempt",success:"countSuccess",error:"countError"},p=function(t){var e="";e=(0,$t.A)(u,t)?u[t]:t;var i=o.$t(e);return i},f=(0,gt.A)(i),m=Math.floor(100/(1.5*f))+"%",g=(0,mt.A)(i,(function(t,e){var i=p(t),r=l(e);return{name:i,type:"bar",barWidth:m,data:(0,mt.A)(n,(function(e){return(0,c.A)(e,"data.".concat(t),0)})),itemStyle:{color:r},emphasis:{focus:"series"}}})),h="MM/DD";"hr"===(0,St.A)(r,2)&&(h="MM/DD\nHH:mm");var v={title:{text:t,show:!1},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},legend:{show:!0},xAxis:[{type:"category",data:(0,mt.A)(n,(function(t){return pt()(t.time).format(h)})),axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:g};return v},grStaUserSummary:function(){var t=(0,ct.A)(lt().mark((function t(){var e,i;return lt().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,i=e.userToken,t.next=1,e.$fapi.getStaUserSummary(i).then((function(t){e.userOverview=t})).catch((function(t){console.log("getStaUserSummary catch",t)}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),grStaTokenSummary:function(){var t=(0,ct.A)(lt().mark((function t(){var e,i;return lt().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,i=e.userToken,t.next=1,e.$fapi.getStaTokenSummary(i).then((function(t){e.tokenStatus=t})).catch((function(t){console.log("getStaTokenSummary catch",t)}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),grStaIpSummary:function(){var t=(0,ct.A)(lt().mark((function t(){var e,i;return lt().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,i=e.userToken,t.next=1,e.$fapi.getStaIpSummary(i).then((function(t){e.ipCharacteristic=t})).catch((function(t){console.log("getStaIpSummary catch",t)}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),grStaUserAccountLogin:function(){var t=(0,ct.A)(lt().mark((function t(){var e,i;return lt().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,i=e.userToken,t.next=1,e.$fapi.getStaUserAccountLogin(i).then((function(t){e.freqLogin=t,e.optLogin=e.genOpt(e.$t("userLoginFrequency"),e.freqLogin,["attempt","success","error"],e.timeGroupLogin)})).catch((function(t){console.log("getStaUserAccountLogin catch",t)}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),grStaToken:function(){var t=(0,ct.A)(lt().mark((function t(){var e,i;return lt().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,i=e.userToken,t.next=1,e.$fapi.getStaToken(i).then((function(t){e.freqToken=t,e.updateCharts(),e.calculateTokenUsageSummary(t)})).catch((function(t){console.log("getStaToken catch",t)}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),grStaIp:function(){var t=(0,ct.A)(lt().mark((function t(e){var i,r;return lt().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=this,r=i.userToken,t.next=1,i.$fapi.getStaIp(r).then((function(t){i.freqIp=t,i.updateCharts(),i.calculateIpUsageSummary(t)})).catch((function(t){console.log("getStaIp catch",t)}));case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getAndRelaData:function(){var t=(0,ct.A)(lt().mark((function t(){var e;return lt().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this,e.isLoading=!0,e.errMsg="",e.grStaUserSummary().catch((function(t){console.log(t),e.errMsg=e.$t("getDataError")})).finally((function(){e.isLoading=!1})),e.grStaTokenSummary().catch((function(){})),e.grStaIpSummary().catch((function(){})),e.grStaUserAccountLogin().catch((function(){})),e.grStaToken().catch((function(){})),e.grStaIp().catch((function(){}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),updateCharts:function(){var t=this;t.optLogin=t.genOpt(t.$t("userLoginFrequency"),t.freqLogin,["attempt","success","error"],t.timeGroupLogin);var e=(0,c.A)(t.freqToken,"0.data"),i=(0,ht.A)(e);t.showIndividuallyToken||(i=["count"]),t.optToken=t.genOpt(t.$t("tokenUsageFrequency"),t.freqToken,i,t.timeGroupToken);var r=(0,c.A)(t.freqIp,"0.data"),o=(0,ht.A)(r);t.showIndividuallyIp||(o=["count"]),t.optIp=t.genOpt(t.$t("ipConnectionFrequency"),t.freqIp,o,t.timeGroupIp)},updateChartsDebounce:function(){var t=this;t.dbc((function(){t.updateCharts()}))},calculateTokenUsageSummary:function(t){var e=this,i=(0,bt.A)(t,(function(t,e){var i=(0,xt.A)((0,c.A)(e,"data",{}),"count");return(0,ft.A)((0,ht.A)(i),(function(e){(0,$t.A)(t,e)||(t[e]={username:e,total:0,last1d:0,last8h:0,last4h:0,last1h:0})})),t}),{}),r=pt()();(0,ft.A)(t,(function(t){var e=pt()(t.time),o=r.diff(e,"hour")<=24,n=r.diff(e,"hour")<=8,a=r.diff(e,"hour")<=4,s=r.diff(e,"hour")<=1,d=(0,xt.A)((0,c.A)(t,"data",{}),"count");(0,ft.A)(d,(function(t,e){(0,$t.A)(i,e)&&(i[e].total+=t,o&&(i[e].last1d+=t),n&&(i[e].last8h+=t),a&&(i[e].last4h+=t),s&&(i[e].last1h+=t))}))}));var o=(0,wt.A)(i);o=(0,mt.A)(o,(function(t){return t[1]})),o=(0,At.A)(o,"total"),o=(0,kt.A)(o),o=(0,mt.A)(o,(function(t,e){return t.number=e+1,t})),e.tokenUsageSummary=o},toggleShowAllTokenUsers:function(){var t=this;t.showAllTokenUsers=!t.showAllTokenUsers},calculateIpUsageSummary:function(t){var e=this,i=(0,bt.A)(t,(function(t,e){var i=(0,xt.A)((0,c.A)(e,"data",{}),"count");return(0,ft.A)((0,ht.A)(i),(function(e){(0,$t.A)(t,e)||(t[e]={ip:e,total:0,last1d:0,last8h:0,last4h:0,last1h:0})})),t}),{}),r=pt()();(0,ft.A)(t,(function(t){var e=pt()(t.time),o=r.diff(e,"hour")<=24,n=r.diff(e,"hour")<=8,a=r.diff(e,"hour")<=4,s=r.diff(e,"hour")<=1,d=(0,xt.A)((0,c.A)(t,"data",{}),"count");(0,ft.A)(d,(function(t,e){(0,$t.A)(i,e)&&(i[e].total+=t,o&&(i[e].last1d+=t),n&&(i[e].last8h+=t),a&&(i[e].last4h+=t),s&&(i[e].last1h+=t))}))}));var o=(0,wt.A)(i);o=(0,mt.A)(o,(function(t){return t[1]})),o=(0,At.A)(o,"total"),o=(0,kt.A)(o),o=(0,mt.A)(o,(function(t,e){return t.number=e+1,t})),e.ipUsageSummary=o},toggleShowAllIpUsers:function(){var t=this;t.showAllIpUsers=!t.showAllIpUsers},formatNumber:function(t){return null===t||void 0===t?0:t.toLocaleString()}}},Ht=Tt,Bt=(0,A.A)(Ht,at,st,!1,null,"99dfb112",null),Et=Bt.exports,Lt=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"domresize",rawName:"v-domresize"}],staticStyle:{height:"100%"},on:{domresize:t.resizePanel}},[t.isLoading||t.errMsg?[t.isLoading?e("div",{staticStyle:{padding:"10px 15px","font-size":"0.8rem"}},[t._v(" "+t._s(t.$t("waitingData"))+" ")]):t._e(),t.errMsg?e("div",{staticStyle:{padding:"10px 15px","font-size":"0.8rem"}},[t._v(" "+t._s(t.errMsg)+" ")]):t._e()]:e("div",{staticStyle:{height:"100%",background:"#fff","overflow-y":"auto"}},[e("div",{staticStyle:{padding:"40px"}},[e("div",{staticStyle:{display:"flex","align-items":"center"}},[t._e(),t.userLogo?e("div",{staticStyle:{display:"inline-block",padding:"0px",_border:"1px solid #ddd","border-radius":"50%"}},[e("img",{staticStyle:{width:"120px",height:"120px"},attrs:{src:t.userLogo}})]):t._e(),e("div",{staticStyle:{"padding-left":"15px"}},[e("div",{staticStyle:{"font-size":"3.0rem"}},[t._v(" "+t._s(t.$ui.gv(t.user,"name"))+" ")]),e("div",{staticStyle:{"margin-top":"-5px","padding-left":"2px","font-size":"1.5rem"}},[t._v(" "+t._s(t.$ui.gv(t.user,"account"))+" ")])])]),e("div",{staticClass:"pt-6 space-y-8"},[e("div",[e("div",{staticClass:"mb-2 text-xs text-gray-500"},[t._v(t._s(t.$t("userStatus")))]),e("div",{staticClass:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t._v(" "+t._s(t.$t("isBlocked"))+" ")]),e("div",{class:"status-".concat(t.isBlocked?"danger":"success"," flex items-center p-3 rounded-lg")},[e("i",{class:"mdi ".concat(t.isBlocked?"mdi-lock":"mdi-lock-open-variant"," mdi-24px mr-3 flex-shrink-0")}),e("div",[e("div",{staticClass:"font-semibold"},[t._v(" "+t._s(t.isBlocked?t.$t("isBlockedY"):t.$t("isBlockedN"))+" ")]),e("div",{class:"text-xs text-".concat(t.isBlocked?"red":"green","-800/80")},[t._v(" "+t._s(t.isBlocked?""===t.timeBlockedToDay?t.$t("unknow"):t.$t("to")+" "+t.timeBlockedToDay:t.$t("isBlockedNormalStatus"))+" ")])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t._v(" "+t._s(t.$t("isExpired"))+" "+t._s(t.$t("timeExpired"))+" ")]),e("div",{class:"status-".concat(t.isExpired?"danger":"success"," flex items-center p-3 rounded-lg")},[e("i",{class:"mdi ".concat(t.isExpired?"mdi-calendar-lock":"mdi-calendar-check"," mdi-24px mr-3 flex-shrink-0")}),e("div",[e("div",{staticClass:"font-semibold"},[t._v(" "+t._s(t.isExpired?t.$t("isExpiredY"):t.$t("isExpiredN"))+" ")]),e("div",{class:"text-xs text-".concat(t.isExpired?"red":"green","-800/80")},[t._v(" "+t._s(t.isExpired?t.$t("isExpiredDeny"):""===t.timeExpiredToDay?t.$t("isExpiredNever"):t.$t("to")+" "+t.timeExpiredToDay)+" ")])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t._v(" "+t._s(t.$t("isVerified"))+" "+t._s(t.$t("timeVerified"))+" ")]),e("div",{class:"status-".concat(t.isVerified?"success":"danger"," flex items-center p-3 rounded-lg")},[e("i",{class:"mdi ".concat(t.isVerified?"mdi-check-decagram":"mdi-alert-decagram-outline"," mdi-24px mr-3 flex-shrink-0")}),e("div",[e("div",{staticClass:"font-semibold"},[t._v(" "+t._s(t.isVerified?t.$t("isVerifiedY"):t.$t("isVerifiedN"))+" ")]),e("div",{class:"text-xs text-".concat(t.isVerified?"green":"red","-800/80")},[t._v(" "+t._s(t.isVerified?""===t.timeVerifiedToDay?t.$t("unknow"):t.$t("at")+" "+t.timeVerifiedToDay:t.$t("isVerifiedWaiting"))+" ")])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t._v(" "+t._s(t.$t("isActive"))+" ")]),e("div",{class:"status-".concat("y"===t.$ui.gv(t.user,"isActive","")?"success":"danger"," flex items-center p-3 rounded-lg")},[e("i",{class:"mdi ".concat("y"===t.$ui.gv(t.user,"isActive","")?"mdi-toggle-switch":"mdi-toggle-switch-off-outline"," mdi-24px mr-3 flex-shrink-0")}),e("div",[e("div",{staticClass:"font-semibold"},[t._v(" "+t._s("y"===t.$ui.gv(t.user,"isActive","")?t.$t("isActiveY"):t.$t("isActiveN"))+" ")]),e("div",{class:"text-xs text-".concat("y"===t.$ui.gv(t.user,"isActive","")?"green":"red","-800/80")},[t._v(" "+t._s("y"===t.$ui.gv(t.user,"isActive","")?t.$t("isActiveMsgY"):t.$t("isActiveMsgN"))+" ")])])])])]),e("div",[e("div",{staticClass:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 pt-6 border-t border-gray-200"},[e("div",{staticClass:"flex items-start gap-3"},[e("i",{staticClass:"mdi mdi-account-circle text-gray-400 mdi-20px mt-1 flex-shrink-0"}),e("div",[e("div",{staticClass:"text-sm text-gray-500"},[t._v(t._s(t.$t("account")))]),e("div",{staticClass:"text-base font-medium text-gray-900"},[t._v(" "+t._s(t.$ui.gv(t.user,"account"))+" ")])])]),e("div",{staticClass:"flex items-start gap-3"},[e("i",{staticClass:"mdi mdi-comment-text-outline text-gray-400 mdi-20px mt-1 flex-shrink-0"}),e("div",[e("div",{staticClass:"text-sm text-gray-500"},[t._v(t._s(t.$t("description")))]),e("div",{staticClass:"text-base font-medium text-gray-900"},[t._v(" "+t._s(t.$ui.gv(t.user,"description"))+" ")])])]),e("div",{staticClass:"flex items-start gap-3"},[e("i",{staticClass:"mdi mdi-email-outline text-gray-400 mdi-20px mt-1 flex-shrink-0"}),e("div",[e("div",{staticClass:"text-sm text-gray-500"},[t._v(t._s(t.$t("email")))]),e("div",{staticClass:"inline-block text-base bg-gray-100 mt-1 px-2 py-1 rounded-md text-gray-700 break-all text-sm"},[t._v(" "+t._s(t.$ui.gv(t.user,"email"))+" ")])])]),e("div",{staticClass:"flex items-start gap-3"},[e("i",{staticClass:"mdi mdi-source-branch text-gray-400 mdi-20px mt-1 flex-shrink-0"}),e("div",[e("div",{staticClass:"text-sm text-gray-500"},[t._v(t._s(t.$t("from")))]),e("div",{staticClass:"inline-block text-base bg-gray-100 mt-1 px-2 py-1 rounded-md text-gray-700 break-all text-sm"},[t._v(" "+t._s(t.$ui.gv(t.user,"from"))+" ")])])]),e("div",{staticClass:"flex items-start gap-3"},[e("i",{staticClass:"mdi mdi-id-card text-gray-400 mdi-20px mt-1 flex-shrink-0"}),e("div",[e("div",{staticClass:"text-sm text-gray-500"},[t._v(t._s(t.$t("userRole")))]),e("div",{staticClass:"inline-block text-base bg-blue-100 mt-1 px-2 py-1 rounded-md text-blue-700 break-all text-sm"},[t._v(" "+t._s("y"===t.$ui.gv(t.user,"isAdmin","")?t.$t("userRoleAdmin"):t.$t("userRoleGeneral"))+" ")])])]),e("div",{staticClass:"flex items-start gap-3 md:col-span-2"},[e("i",{staticClass:"mdi mdi-link-variant text-gray-400 mdi-20px mt-1 flex-shrink-0"}),e("div",[e("div",{staticClass:"text-sm text-gray-500"},[t._v(t._s(t.$t("redir")))]),e("div",{staticClass:"inline-block text-base bg-gray-100 mt-1 px-2 py-1 rounded-md text-gray-700 break-all text-sm"},[t._v(" "+t._s(t.$ui.gv(t.user,"redir"))+" ")])])])])])]),t._e()])])],2)},Ut=[],Pt=i(4535),Dt=i(7267),Wt={components:{WPanelLabelItem:Dt.A},props:{},data:function(){return{mdiAccountCircleOutline:J.gXw,panelWidth:100,panelHeight:100,headHeight:100,isLoading:!0,errMsg:"",isOperatable:!0,user:null}},mounted:function(){var t=this;t.isLoading=!0,t.errMsg="";var e=t.userToken;t.$fapi.getUserByToken(e).then((function(e){t.user=e})).catch((function(e){console.log(e),t.errMsg=t.$t("getDataError")})).finally((function(){t.isLoading=!1}))},computed:{userToken:function(){var t=this;return(0,c.A)(t,"$store.state.userToken")},userLogo:function(){var t=this;return(0,c.A)(t,"$store.state.webInfor.userLogo","")},isVerified:function(){var t=this,e=(0,c.A)(t,"user"),i=t.$s.getIsVerified(e);return i},timeVerifiedToDay:function(){var t=this,e=(0,c.A)(t,"user.timeVerified","");if(!(0,Pt.A)(e))return"";var i=pt()(e,"YYYY-MM-DDTHH:mm:ss.SSSZ"),r=i.format("YYYY-MM-DD");return r},isExpired:function(){var t=this,e=(0,c.A)(t,"user"),i=t.$s.getIsExpired(e);return i},timeExpiredToDay:function(){var t=this,e=(0,c.A)(t,"user.timeExpired","");if(!(0,Pt.A)(e))return"";var i=pt()(e,"YYYY-MM-DDTHH:mm:ss.SSSZ"),r=i.format("YYYY-MM-DD");return r},isBlocked:function(){var t=this,e=(0,c.A)(t,"user"),i=t.$s.getIsBlocked(e);return i},timeBlockedToDay:function(){var t=this,e=(0,c.A)(t,"user.timeBlocked","");if(!(0,Pt.A)(e))return"";var i=pt()(e,"YYYY-MM-DDTHH:mm:ss.SSSZ"),r=i.format("YYYY-MM-DD");return r}},methods:{resizePanel:function(t){var e=this;e.panelWidth=t.snew.offsetWidth,e.panelHeight=t.snew.offsetHeight}}},Nt=Wt,Yt=(0,A.A)(Nt,Lt,Ut,!1,null,"0620fb52",null),Mt=Yt.exports,zt=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"domresize",rawName:"v-domresize"}],staticStyle:{height:"100%"},attrs:{changeParams:t.changeParams},on:{domresize:t.resizePanel}},[e("div",{directives:[{name:"domresize",rawName:"v-domresize"}],staticStyle:{background:"#fff"},on:{domresize:t.resizeHead}},[e("div",{staticStyle:{padding:"10px 10px 10px 20px"}},[e("div",{style:"display:flex; align-items:center; padding:".concat(t.drawer?"5px":"5px 5px 5px 20px",";")},[e("WIcon",{attrs:{icon:t.mdiAccountGroupOutline,color:"#000",size:32}}),e("div",{staticStyle:{"padding-left":"12px"}},[e("div",{staticStyle:{"font-size":"1.4rem",color:"#000"}},[t._v(" "+t._s(t.$t("mmUsersList"))+" ")]),e("div",{staticStyle:{"padding-top":"2px","font-size":"0.8rem",color:"#666"}},[t._v(" "+t._s(t.$t("mmUsersListMsg"))+" ")])])],1)]),e("div",{staticStyle:{padding:"5px","border-top":"1px solid #ddd",display:"flex","align-items":"center"},attrs:{"_v-if":"showIsEditable || isEditable"}},[t.showIsEditable?[e("div",{staticStyle:{padding:"6px 0px 4px 4px"}},[e("WSwitch",{attrs:{text:t.$t("modeEdit")},model:{value:t.isEditable,callback:function(e){t.isEditable=e},expression:"isEditable"}})],1),e("div",{staticStyle:{"padding-left":"10px"}})]:t._e(),[e("WPopup",{attrs:{isolated:!0,_show:"",_hide:""},scopedSlots:t._u([{key:"trigger",fn:function(){return[e("WButtonCircle",{attrs:{paddingStyle:{v:6,h:6},tooltip:t.$t("showTabCols"),icon:t.mdiTableHeadersEye,backgroundColor:"#fff",backgroundColorHover:"#f2f2f2",iconColor:"#444",iconColorHover:"#222",iconColorFocus:"#222",shadow:!1,_click:""}})]},proxy:!0},{key:"content",fn:function(){return[e("div",{staticStyle:{padding:"10px 0px 10px 0px"}},[e("div",{staticStyle:{padding:"7px 10px","font-size":"0.85rem",color:"#222",background:"#f2f2f2"}},[t._v(" "+t._s(t.$t("showTabCols"))+" ")]),e("div",{staticStyle:{padding:"7px 9px 0px 7px"}},[e("WInputCheckbox",{attrs:{items:t.tabKeysPick},on:{input:t.toggleTabKeys},scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticStyle:{"padding-left":"3px",display:"flex","align-items":"center","font-size":"0.85rem",height:"24px",cursor:"pointer"}},[t._v(" "+t._s(t.getHead(i.item.data))+" ")])]}}],null,!1,286315898),model:{value:t.tabKeysShow,callback:function(e){t.tabKeysShow=e},expression:"tabKeysShow"}})],1)])]},proxy:!0}],null,!1,2452858936)}),e("div",{staticStyle:{"padding-left":"4px"}})],t.isEditable?[e("WButtonCircle",{attrs:{paddingStyle:{v:6,h:6},tooltip:t.$t("userAdd"),icon:t.mdiPlus,backgroundColor:"#fff",backgroundColorHover:"#f2f2f2",iconColor:"#444",iconColorHover:"#222",iconColorFocus:"#222",shadow:!1},on:{click:t.addItem}}),e("div",{staticStyle:{"padding-left":"4px"}})]:t._e(),t.isEditable&&t.hasItemCheckOne?[e("WButtonCircle",{attrs:{paddingStyle:{v:6,h:6},tooltip:t.$t("userCopy"),icon:t.mdiContentCopy,backgroundColor:"#fff",backgroundColorHover:"#f2f2f2",iconColor:"#444",iconColorHover:"#222",iconColorFocus:"#222",shadow:!1},on:{click:t.copyItem}}),e("div",{staticStyle:{"padding-left":"4px"}})]:t._e(),t.isEditable&&t.hasItemsCheck?[e("WButtonCircle",{attrs:{paddingStyle:{v:6,h:6},tooltip:t.$t("userDeleteCheckUsers"),icon:t.mdiTrashCanOutline,backgroundColor:"#fff",backgroundColorHover:"#f2f2f2",iconColor:"#444",iconColorHover:"#222",iconColorFocus:"#222",shadow:!1},on:{click:t.deleteItemsCheck}}),e("div",{staticStyle:{"padding-left":"4px"}})]:t._e(),t.isEditable&&t.isModified?[e("WButtonCircle",{attrs:{paddingStyle:{v:6,h:6},tooltip:t.$t("saveChanges"),icon:t.mdiCloudUploadOutline,backgroundColor:"rgba(255,0,50,0.7)",backgroundColorHover:"rgba(255,0,50,0.8)",iconColor:"#eee",iconColorHover:"#fff",iconColorFocus:"#fff",shadow:!1},on:{click:t.saveUsers}}),e("div",{staticStyle:{"padding-left":"4px"}})]:t._e()],2)]),t.isLoading?e("div",{staticStyle:{padding:"10px 15px","font-size":"0.8rem"}},[t._v(" "+t._s(t.$t("waitingData"))+" ")]):[t.items?[e("WAggridVueDyn",{ref:"rftable",style:"width:100%;",attrs:{height:t.contentHeight,opt:t.opt}})]:t._e()]],2)},Kt=[],Ft=i(9106),Ot=i(8395),Vt=i(1662),Gt=i(903),Rt=i(8135),jt=i(4625),Zt=i(6091),Qt=i(9045),qt=i(1529),Jt=i(5756),Xt=i(9911),te=i(7639),ee={components:{WIcon:K.A,WSwitch:Jt.A,WButtonCircle:tt.A,WPopup:X.A,WInputCheckbox:Xt.A,WAggridVueDyn:te.A},props:{drawer:{type:Boolean,default:!1}},data:function(){return{mdiAccountGroupOutline:J.dgQ,mdiCloudUploadOutline:J.XHW,mdiTrashCanOutline:J.FhF,mdiTableHeadersEye:J.sw5,mdiPlus:J.biz,mdiContentCopy:J.$BT,panelWidth:100,panelHeight:100,headHeight:100,isLoading:!0,firstSetting:!0,showIsEditable:!1,isEditable:!1,isModified:!1,tabKeys:["id","order","account","password","name","email","description","from","redir","isAdmin","timeVerified","timeExpired","timeBlocked","userId","timeCreate","userIdUpdate","timeUpdate","isActive"],tabKeysPick:["account","password","name","email","description","from","redir","isAdmin","timeVerified","timeExpired","timeBlocked","userId","timeCreate","userIdUpdate","timeUpdate","isActive"],tabKeysShow:["account","password","name","email","description","from","redir","isAdmin","timeVerified","timeExpired","timeBlocked","userId","timeCreate","userIdUpdate","timeUpdate","isActive"],widthUsersName:null,widthUsersEmail:null,widthUsersDescription:null,users:[],items:[],itemsCheck:[],opt:null}},mounted:function(){var t=this;if(t.$dg.toggleItemIsAdminById=t.toggleItemIsAdminById,t.$dg.toggleItemIsActiveById=t.toggleItemIsActiveById,t.$dg.modifyItemPasswordById=t.modifyItemPasswordById,t.$dg.modifyItemTimeVerifiedById=t.modifyItemTimeVerifiedById,t.$dg.modifyItemTimeExpiredById=t.modifyItemTimeExpiredById,t.$dg.modifyItemTimeBlockedById=t.modifyItemTimeBlockedById,t.firstSetting){var e=(0,c.A)(t,"webInfor.showModeEditUsers","");t.showIsEditable="y"===e;var i=(0,c.A)(t,"webInfor.modeEditUsers","");t.isEditable="y"===i,t.widthUsersName=(0,c.A)(t,"webInfor.widthUsersName",""),t.widthUsersEmail=(0,c.A)(t,"webInfor.widthUsersEmail",""),t.widthUsersDescription=(0,c.A)(t,"webInfor.widthUsersDescription",""),t.firstSetting=!1}var r=t.userToken;t.$fapi.getUsersList(r).then((function(e){e=(0,At.A)(e,"order"),t.users=e})).catch((function(e){console.log(e),t.errMsg=t.$t("getDataError")})).finally((function(){t.isLoading=!1}))},computed:{webInfor:function(){var t=(0,c.A)(this,"$store.state.webInfor");return t},userToken:function(){var t=this;return(0,c.A)(t,"$store.state.userToken")},changeParams:function(){var t=this,e=t.isEditable,i=(0,Gt.A)(t.users);return t.items=i,t.genOpt({isEditable:e}),t.isLoading=!1,""},contentHeight:function(){var t=this,e=t.panelHeight-t.headHeight;return e=Math.max(e,0),e},hasItemsCheck:function(){var t=this,e=(0,gt.A)(t.itemsCheck)>0;return e},hasItemCheckOne:function(){var t=this,e=1===(0,gt.A)(t.itemsCheck);return e},errItemsByAccount:function(){var t=this,e=(0,c.A)(t,"opt.rows",[]),i={},r={};return(0,ft.A)(e,(function(e,o){var n=(0,c.A)(e,"account","");return(0,z.A)(n)?(0,$t.A)(r,n)?(i[n]=t.$t("userAccountDuplicate"),!0):void(r[n]=!0):(i[n]=t.$t("userAccountEmpty"),!0)})),i},errItemsByEmail:function(){var t=this,e=(0,c.A)(t,"opt.rows",[]),i={},r={};return(0,ft.A)(e,(function(e,o){var n=(0,c.A)(e,"email","");return(0,z.A)(n)?(0,jt.A)(n)?(0,$t.A)(r,n)?(i[n]=t.$t("userEmailDuplicate"),!0):void(r[n]=!0):(i[n]=t.$t("userEmailError"),!0):(i[n]=t.$t("userEmailEmpty"),!0)})),i},errItemsByRedir:function(){var t=this,e=(0,c.A)(t,"opt.rows",[]),i={};return(0,ft.A)(e,(function(e,r){var o=(0,c.A)(e,"redir","");if(!(0,z.A)(o))return i[o]=t.$t("userRedirEmpty"),!0})),i},isError:function(){var t=this,e="",i=!1;return i=(0,Rt.A)(t.errItemsByAccount),i?(e=t.$t("errInAccounts"),e):(i=(0,Rt.A)(t.errItemsByEmail),i?(e=t.$t("errInEmails"),e):(i=(0,Rt.A)(t.errItemsByRedir),i?(e=t.$t("errInRedir"),e):""))},kpHead:function(){var t=this,e={id:t.$t("id"),order:t.$t("order"),account:t.$t("account"),password:t.$t("password"),name:t.$t("name"),email:t.$t("email"),description:t.$t("description"),from:t.$t("from"),redir:t.$t("redir"),isAdmin:t.$t("isAdmin"),timeVerified:t.$t("userTimeVerified"),timeExpired:t.$t("userTimeExpired"),timeBlocked:t.$t("userTimeBlocked"),userId:t.$t("userId"),timeCreate:t.$t("timeCreate"),userIdUpdate:t.$t("userIdUpdate"),timeUpdate:t.$t("timeUpdate"),isActive:t.$t("isActive")};return e}},methods:{resizePanel:function(t){var e=this;e.panelWidth=t.snew.offsetWidth,e.panelHeight=t.snew.offsetHeight},resizeHead:function(t){var e=this;e.headHeight=t.snew.offsetHeight},getHead:function(t){var e=this,i=(0,c.A)(e,"kpHead.".concat(t),"");return i},genOpt:function(){var t=this;t.itemsCheck=[];var e=null;if((0,gt.A)(t.items)>0){var i=t.tabKeys,r=t.kpHead,o={},n={},a={};t.isEditable&&(o={account:!0,name:!0,email:!0,description:!0,from:!0,redir:!0},n={account:!0},a={account:!0});var s={id:!0,order:!0},d=(0,Qt.A)(t.tabKeysPick,t.tabKeysShow);(0,ft.A)(d,(function(t){s[t]=!0})),e={language:t.$t("aggridLanguage"),rows:t.items,keys:i,kpHead:r,defCellEditable:!1,defHeadFilter:!0,defCellAlignH:"left",kpHeadHide:s,kpHeadFixLeft:{account:!0},defHeadMinWidth:150,kpHeadWidth:{timeVerified:250,timeExpired:250,timeBlocked:250},kpHeadFilterType:{id:"text",order:"text",account:"text",password:"text",name:"text",email:"text",description:"text",from:"text",redir:"text",isAdmin:"text",timeVerified:"text",timeExpired:"text",timeBlocked:"text",userId:"text",timeCreate:"text",userIdUpdate:"text",timeUpdate:"text",isActive:"text"},kpCellEditable:o,kpRowDrag:n,kpHeadCheckBox:a,kpHeadFilter:{password:!1},kpHeadSort:{password:!1},kpHeadFocusHighlight:{password:!1,timeVerified:!1,timeExpired:!1,timeBlocked:!1},kpCellRender:{account:function(e){var i=(0,c.A)(t.errItemsByAccount,e,"");return(0,z.A)(i)&&(e='\n                                    <span title="'.concat(i,'">\n                                        <span style="color:#F57C00;">').concat((0,Zt.A)(e),'</span>\n                                        <img style="vertical-align:sub; width:16px; height:16px;" src="').concat(t.$ui.getIcon("warning"),'" />\n                                    </span>\n                                ')),e},password:function(e,i,r){var o=(0,c.A)(r,"id",""),n='\n                                <div onclick="event.stopPropagation();event.preventDefault();" onmousedown="event.stopPropagation();event.preventDefault();">\n                                    <button style="width:100%; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;" onclick="$vo.$dg.modifyItemPasswordById(\''.concat(o,"')\" ").concat(t.isEditable?"":"disabled"," >").concat(t.$t("userResetPassword"),"</button>\n                                </div>\n                            ");return n},email:function(e){var i=(0,c.A)(t.errItemsByEmail,e,"");return(0,z.A)(i)&&(e='\n                                    <span title="'.concat(i,'">\n                                        <span style="color:#F57C00;">').concat((0,Zt.A)(e),'</span>\n                                        <img style="vertical-align:sub; width:16px; height:16px;" src="').concat(t.$ui.getIcon("warning"),'" />\n                                    </span>\n                                ')),e},redir:function(e){var i=(0,c.A)(t.errItemsByRedir,e,"");return(0,z.A)(i)&&(e='\n                                    <span title="'.concat(i,'">\n                                        <span style="color:#F57C00;">').concat((0,Zt.A)(e),'</span>\n                                        <img style="vertical-align:sub; width:16px; height:16px;" src="').concat(t.$ui.getIcon("warning"),'" />\n                                    </span>\n                                ')),e},isAdmin:function(e,i,r){var o=(0,c.A)(r,"id",""),n='\n                                <input type="checkbox" '.concat("y"===e?"checked":""," onclick=\"$vo.$dg.toggleItemIsAdminById('").concat(o,"')\" ").concat(t.isEditable?"":"disabled"," />\n                            ");return n},isActive:function(e,i,r){var o=(0,c.A)(r,"id",""),n='\n                                <input type="checkbox" '.concat("y"===e?"checked":""," onclick=\"$vo.$dg.toggleItemIsActiveById('").concat(o,"')\" ").concat(t.isEditable?"":"disabled"," />\n                            ");return n},timeVerified:function(e,i,r){var o=(0,c.A)(r,"id",""),n="",a=t.$t("userTimeEmpty");if((0,Pt.A)(e)){var s=pt()(e);n=s.format("YYYY-MM-DDTHH:mm:ss.SSSZ"),a=s.format("YYYY-MM-DD HH:mm")}var d=t.$s.getIsVerified(r),l=d?"green":"red",u=d?t.$t("isVerifiedY"):t.$t("isVerifiedN"),p='\n                                <div style="width:90px; display:inline-flex; align-items:center; vertical-align:middle; color:'.concat(l,'; ">\n                                    <i class="mdi ').concat(d?"mdi-check-bold":"mdi-close-thick",'"></i>\n                                    <span style="padding-left:2px;">').concat(u,"</span>\n                                </div>\n                            "),f='\n                                <div onclick="event.stopPropagation();event.preventDefault();" onmousedown="event.stopPropagation();event.preventDefault();" style="display:flex; align-items:center;">\n                                    '.concat(p,'\n                                    <button style="width:126px; min-width:126px;" onclick="$vo.$dg.modifyItemTimeVerifiedById(this,\'').concat(n,"','").concat(o,"')\" ").concat(t.isEditable?"":"disabled",">").concat(a,"</button>\n                                </div>\n                            ");return f},timeExpired:function(e,i,r){var o=(0,c.A)(r,"id",""),n="",a=t.$t("userTimeEmpty");if((0,Pt.A)(e)){var s=pt()(e);n=s.format("YYYY-MM-DDTHH:mm:ss.SSSZ"),a=s.format("YYYY-MM-DD HH:mm")}var d=t.$s.getIsExpired(r),l=d?"red":"green",u=d?t.$t("isExpiredY"):t.$t("isExpiredN"),p='\n                                <div style="width:90px; display:inline-flex; align-items:center; vertical-align:middle; color:'.concat(l,'; ">\n                                    <i class="mdi ').concat(d?"mdi-close-thick":"mdi-check-bold",'"></i>\n                                    <span style="padding-left:2px;">').concat(u,"</span>\n                                </div>\n                            "),f='\n                                <div onclick="event.stopPropagation();event.preventDefault();" onmousedown="event.stopPropagation();event.preventDefault();" style="display:flex; align-items:center;">\n                                    '.concat(p,'\n                                    <button style="width:126px; min-width:126px;" onclick="$vo.$dg.modifyItemTimeExpiredById(this,\'').concat(n,"','").concat(o,"')\" ").concat(t.isEditable?"":"disabled",">").concat(a,"</button>\n                                </div>\n                            ");return f},timeBlocked:function(e,i,r){var o=(0,c.A)(r,"id",""),n="",a=t.$t("userTimeEmpty");if((0,Pt.A)(e)){var s=pt()(e);n=s.format("YYYY-MM-DDTHH:mm:ss.SSSZ"),a=s.format("YYYY-MM-DD HH:mm")}var d=t.$s.getIsBlocked(r),l=d?"red":"green",u=d?t.$t("isBlockedY"):t.$t("isBlockedN"),p='\n                                <div style="width:90px; display:inline-flex; align-items:center; vertical-align:middle; color:'.concat(l,'; ">\n                                    <i class="mdi ').concat(d?"mdi-close-thick":"mdi-check-bold",'"></i>\n                                    <span style="padding-left:2px;">').concat(u,"</span>\n                                </div>\n                            "),f='\n                                <div onclick="event.stopPropagation();event.preventDefault();" onmousedown="event.stopPropagation();event.preventDefault();" style="display:flex; align-items:center;">\n                                    '.concat(p,'\n                                    <button style="width:126px; min-width:126px;" onclick="$vo.$dg.modifyItemTimeBlockedById(this,\'').concat(n,"','").concat(o,"')\" ").concat(t.isEditable?"":"disabled",">").concat(a,"</button>\n                                </div>\n                            ");return f}},rowsChange:function(e){t.isModified=!0},rowChecked:function(e){t.itemsCheck=(0,Gt.A)(e)}}}t.opt=e},refresh:function(){var t=this,e=(0,c.A)(t,"$refs.rftable.$refs.$self");e.refresh()},toggleTabKeys:function(){var t=this,e=(0,c.A)(t,"$refs.rftable.$refs.$self");e.showKeys(t.tabKeysShow)},modifyItemPasswordById:function(t){var e=this;e.$alert("尚待開發",{type:"error"})},toggleItemByKeyAndId:function(t,e){var i=this;if((0,z.A)(e)){var r=(0,c.A)(i,"opt.rows",[]),o=null,n=null;if((0,ft.A)(r,(function(t,i){if((0,c.A)(t,"id","")===e)return o=t,n=i,!1})),(0,Rt.A)(o)){var a=(0,c.A)(o,t,"n"),s="y"===a?"n":"y";(0,Ot.A)(i,"opt.rows[".concat(n,"].").concat(t),s),i.refresh(),i.isModified=!0}else i.$alert("".concat(i.$t("userEditNoUserData")),{type:"error"})}else i.$alert("".concat(i.$t("userEditNoUserId")),{type:"error"})},toggleItemIsAdminById:function(t){var e=this;e.toggleItemByKeyAndId("isAdmin",t)},toggleItemIsActiveById:function(t){var e=this;e.toggleItemByKeyAndId("isActive",t)},modifyItemByKeyAndId:function(t,e,i,r){var o=this;if((0,z.A)(r)){var n="";(0,Pt.A)(i)&&(n=pt()(i).format("YYYY-MM-DDTHH:mm:ss"));var a="datetime-local";(0,qt.A)(n,{eleRef:e,type:a}).then((function(e){var i=(0,c.A)(o,"opt.rows",[]),n=null,a=null;if((0,ft.A)(i,(function(t,e){if((0,c.A)(t,"id","")===r)return n=t,a=e,!1})),(0,Rt.A)(n)){var s=pt()(e,"YYYY-MM-DDTHH:mm"),d=s.format("YYYY-MM-DDTHH:mm:ss.SSSZ");(0,Ot.A)(o,"opt.rows[".concat(a,"].").concat(t),d),o.refresh(),o.isModified=!0}else o.$alert("".concat(o.$t("userEditNoUserData")),{type:"error"})}))}else o.$alert("".concat(o.$t("userEditNoUserId")),{type:"error"})},modifyItemTimeVerifiedById:function(t,e,i){var r=this;r.modifyItemByKeyAndId("timeVerified",t,e,i)},modifyItemTimeExpiredById:function(t,e,i){var r=this;r.modifyItemByKeyAndId("timeExpired",t,e,i)},modifyItemTimeBlockedById:function(t,e,i){var r=this;r.modifyItemByKeyAndId("timeBlocked",t,e,i)},addItem:function(){var t=this,e=(0,c.A)(t,"opt.rows",[]);e=(0,Gt.A)(e);var i=t.$ds.users.funNew();i.name=t.$s.getNameNew(e,"name","",t.$t("userAddNameNew")),i.userId="{".concat(t.$t("userAddIdNew"),"}"),i.timeCreate="{".concat(t.$t("userAddIdNew"),"}"),i.userIdUpdate="{".concat(t.$t("userAddIdNew"),"}"),i.timeUpdate="{".concat(t.$t("userAddIdNew"),"}"),e=[i].concat((0,Ft.A)(e)),t.users=(0,Gt.A)(e),t.isModified=!0},copyItem:function(){var t=this;if(1!==(0,gt.A)(t.itemsCheck))return console.log("size(vo.itemsCheck) !== 1",t.itemsCheck),void t.$alert("".concat(t.$t("anUnexpectedErrorOccurred")),{type:"error"});var e=(0,c.A)(t,"opt.rows",[]);e=(0,Gt.A)(e);var i=t.itemsCheck[0],r=(0,c.A)(i,"data.id",""),o=null;if((0,ft.A)(e,(function(t){var e=(0,c.A)(t,"id","");if(e===r)return o=t,!1})),!(0,Rt.A)(o))return console.log("!iseobj(row)",o),void t.$alert("".concat(t.$t("anUnexpectedErrorOccurred")),{type:"error"});var n=(0,Gt.A)(o),a=t.$ds.users.funNew();n.id=a.id,n.userId="{".concat(t.$t("userAddIdNew"),"}"),n.timeCreate="{".concat(t.$t("userAddIdNew"),"}"),n.userIdUpdate="{".concat(t.$t("userAddIdNew"),"}"),n.timeUpdate="{".concat(t.$t("userAddIdNew"),"}"),e=[n].concat((0,Ft.A)(e)),t.users=(0,Gt.A)(e),t.isModified=!0},deleteItemsCheck:function(){var t=this;if(0===(0,gt.A)(t.itemsCheck))return console.log("size(vo.itemsCheck) === 0",t.itemsCheck),void t.$alert("".concat(t.$t("anUnexpectedErrorOccurred")),{type:"error"});var e=(0,c.A)(t,"opt.rows",[]);e=(0,Gt.A)(e),(0,ft.A)(t.itemsCheck,(function(t){var i=(0,c.A)(t,"data.id","");if(!(0,z.A)(i))return console.log("invalid id"),!0;e=(0,Vt.A)(e,(function(t){return t.id!==i}))})),t.itemsCheck=[],t.users=(0,Gt.A)(e),t.isModified=!0},saveUsers:function(){var t=this;function e(){return i.apply(this,arguments)}function i(){return i=(0,ct.A)(lt().mark((function e(){var i,r,o;return lt().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=null,t.$ui.updateLoading(!0),!(0,z.A)(t.isError)){e.next=1;break}return t.$alert("".concat(t.isError),{type:"error"}),e.abrupt("return");case 1:if(r=(0,c.A)(t,"opt.rows",[]),0!==(0,gt.A)(r)){e.next=2;break}return t.$alert("".concat(t.$t("userAddEmpty")),{type:"error"}),e.abrupt("return");case 2:return o=t.userToken,e.next=3,t.$fapi.updateUsersList(o,r).catch((function(t){i=t}));case 3:if(null===i){e.next=4;break}return t.$alert("".concat(t.$t("userSaveUsersFail"),": ").concat(i),{type:"error"}),e.abrupt("return");case 4:t.isModified=!1,t.$alert(t.$t("userSaveUsersSuccess"));case 5:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}e().catch((function(e){console.log("catch",e),t.$alert(t.$t("anUnexpectedErrorOccurred"),{type:"error"})})).finally((function(){t.$ui.updateLoading(!1)}))}}},ie=ee,re=(0,A.A)(ie,zt,Kt,!1,null,"716473ce",null),oe=re.exports,ne=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"domresize",rawName:"v-domresize"}],staticStyle:{height:"100%"},attrs:{changeParams:t.changeParams},on:{domresize:t.resizePanel}},[e("div",{directives:[{name:"domresize",rawName:"v-domresize"}],staticStyle:{background:"#fff"},on:{domresize:t.resizeHead}},[e("div",{staticStyle:{padding:"10px 10px 10px 20px"}},[e("div",{style:"display:flex; align-items:center; padding:".concat(t.drawer?"5px":"5px 5px 5px 20px",";")},[e("WIcon",{attrs:{icon:t.mdiShieldKeyOutline,color:"#000",size:32}}),e("div",{staticStyle:{"padding-left":"12px"}},[e("div",{staticStyle:{"font-size":"1.4rem",color:"#000"}},[t._v(" "+t._s(t.$t("mmTokensList"))+" ")]),e("div",{staticStyle:{"padding-top":"2px","font-size":"0.8rem",color:"#666"}},[t._v(" "+t._s(t.$t("mmTokensListMsg"))+" ")])])],1)]),e("div",{staticStyle:{padding:"5px","border-top":"1px solid #ddd",display:"flex","align-items":"center"},attrs:{"_v-if":"showIsEditable || isEditable"}},[t.showIsEditable?[e("div",{staticStyle:{padding:"6px 0px 4px 4px"}},[e("WSwitch",{attrs:{text:t.$t("modeEdit")},model:{value:t.isEditable,callback:function(e){t.isEditable=e},expression:"isEditable"}})],1),e("div",{staticStyle:{"padding-left":"10px"}})]:t._e(),[e("WPopup",{attrs:{isolated:!0,_show:"",_hide:""},scopedSlots:t._u([{key:"trigger",fn:function(){return[e("WButtonCircle",{attrs:{paddingStyle:{v:6,h:6},tooltip:t.$t("showTabCols"),icon:t.mdiTableHeadersEye,backgroundColor:"#fff",backgroundColorHover:"#f2f2f2",iconColor:"#444",iconColorHover:"#222",iconColorFocus:"#222",shadow:!1,_click:""}})]},proxy:!0},{key:"content",fn:function(){return[e("div",{staticStyle:{padding:"10px 0px 10px 0px"}},[e("div",{staticStyle:{padding:"7px 10px","font-size":"0.85rem",color:"#222",background:"#f2f2f2"}},[t._v(" "+t._s(t.$t("showTabCols"))+" ")]),e("div",{staticStyle:{padding:"7px 9px 0px 7px"}},[e("WInputCheckbox",{attrs:{items:t.tabKeysPick},on:{input:t.toggleTabKeys},scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticStyle:{"padding-left":"3px",display:"flex","align-items":"center","font-size":"0.85rem",height:"24px",cursor:"pointer"}},[t._v(" "+t._s(t.getHead(i.item.data))+" ")])]}}],null,!1,286315898),model:{value:t.tabKeysShow,callback:function(e){t.tabKeysShow=e},expression:"tabKeysShow"}})],1)])]},proxy:!0}],null,!1,2452858936)}),e("div",{staticStyle:{"padding-left":"4px"}})],t.isEditable&&t.hasItemsCheck?[e("WButtonCircle",{attrs:{paddingStyle:{v:6,h:6},tooltip:t.$t("tokenDeleteCheckTokens"),icon:t.mdiTrashCanOutline,backgroundColor:"#fff",backgroundColorHover:"#f2f2f2",iconColor:"#444",iconColorHover:"#222",iconColorFocus:"#222",shadow:!1},on:{click:t.deleteItemsCheck}}),e("div",{staticStyle:{"padding-left":"4px"}})]:t._e(),t.isEditable&&t.isModified?[e("WButtonCircle",{attrs:{paddingStyle:{v:6,h:6},tooltip:t.$t("saveChanges"),icon:t.mdiCloudUploadOutline,backgroundColor:"rgba(255,0,50,0.6)",backgroundColorHover:"rgba(255,0,50,0.7)",backgroundColorFocus:"rgba(255,0,50,0.7)",iconColor:"#eee",iconColorHover:"#fff",iconColorFocus:"#fff",shadow:!1},on:{click:t.saveTokens}}),e("div",{staticStyle:{"padding-left":"4px"}})]:t._e()],2)]),t.isLoading?e("div",{staticStyle:{padding:"10px 15px","font-size":"0.8rem"}},[t._v(" "+t._s(t.$t("waitingData"))+" ")]):[t.items?[e("WAggridVueDyn",{ref:"rftable",style:"width:100%;",attrs:{height:t.contentHeight,opt:t.opt}})]:t._e()]],2)},ae=[],se={components:{WIcon:K.A,WSwitch:Jt.A,WButtonCircle:tt.A,WPopup:X.A,WInputCheckbox:Xt.A,WAggridVueDyn:te.A},props:{drawer:{type:Boolean,default:!1}},data:function(){return{mdiShieldKeyOutline:J.lEv,mdiCloudUploadOutline:J.XHW,mdiTrashCanOutline:J.FhF,mdiTableHeadersEye:J.sw5,panelWidth:100,panelHeight:100,headHeight:100,isLoading:!0,firstSetting:!0,showIsEditable:!1,isEditable:!1,isModified:!1,tabKeys:["id","token","userId","isApp","timeCreate","timeEnd","timeUpdate"],tabKeysPick:["token","userId","isApp","timeCreate","timeEnd","timeUpdate"],tabKeysShow:["token","userId","isApp","timeCreate","timeEnd","timeUpdate"],tokens:[],items:[],itemsCheck:[],opt:null}},mounted:function(){var t=this;if(t.$dg.toggleItemIsAppById=t.toggleItemIsAppById,t.$dg.modifyItemTimeCreateById=t.modifyItemTimeCreateById,t.$dg.modifyItemTimeEndById=t.modifyItemTimeEndById,t.$dg.modifyItemTimeUpdateById=t.modifyItemTimeUpdateById,t.firstSetting){var e=(0,c.A)(t,"webInfor.showModeEditTokens","");t.showIsEditable="y"===e;var i=(0,c.A)(t,"webInfor.modeEditTokens","");t.isEditable="y"===i,t.firstSetting=!1}var r=t.userToken;t.$fapi.getTokensList(r).then((function(e){e=(0,At.A)(e,"timeCreate").reverse(),t.tokens=e})).catch((function(e){console.log(e),t.errMsg=t.$t("getDataError")})).finally((function(){t.isLoading=!1}))},computed:{webInfor:function(){var t=(0,c.A)(this,"$store.state.webInfor");return t},userToken:function(){var t=this;return(0,c.A)(t,"$store.state.userToken")},changeParams:function(){var t=this,e=t.isEditable,i=(0,Gt.A)(t.tokens);return t.items=i,t.genOpt({isEditable:e}),t.isLoading=!1,""},contentHeight:function(){var t=this,e=t.panelHeight-t.headHeight;return e=Math.max(e,0),e},hasItemsCheck:function(){var t=this,e=(0,gt.A)(t.itemsCheck)>0;return e},hasItemCheckOne:function(){var t=this,e=1===(0,gt.A)(t.itemsCheck);return e},isError:function(){return""},kpHead:function(){var t=this,e={id:t.$t("id"),token:t.$t("token"),userId:t.$t("userId"),isApp:t.$t("isApp"),timeCreate:t.$t("tokenTimeCreate"),timeEnd:t.$t("tokenTimeEnd"),timeUpdate:t.$t("tokenTimeUpdate")};return e}},methods:{resizePanel:function(t){var e=this;e.panelWidth=t.snew.offsetWidth,e.panelHeight=t.snew.offsetHeight},resizeHead:function(t){var e=this;e.headHeight=t.snew.offsetHeight},getHead:function(t){var e=this,i=(0,c.A)(e,"kpHead.".concat(t),"");return i},genOpt:function(){var t=this;t.itemsCheck=[];var e=null;if((0,gt.A)(t.items)>0){var i=t.tabKeys,r=t.kpHead,o={},n={},a={};t.isEditable&&(o={token:!0,userId:function(t){var e=(0,c.A)(t,"data",{}),i=(0,c.A)(e,"isApp",""),r="y"!==i;return r}},n={token:!0},a={token:!0});var s={id:!0},d=(0,Qt.A)(t.tabKeysPick,t.tabKeysShow);(0,ft.A)(d,(function(t){s[t]=!0})),e={language:t.$t("aggridLanguage"),rows:t.items,keys:i,kpHead:r,defCellEditable:!1,defHeadFilter:!0,defCellAlignH:"left",kpHeadHide:s,kpHeadFixLeft:{token:!0},defHeadMinWidth:150,kpHeadWidth:{token:300,userId:300,isApp:100,timeCreate:220,timeEnd:220,timeUpdate:220},kpHeadFilterType:{id:"text",token:"text",userId:"text",isApp:"text",timeCreate:"text",timeEnd:"text",timeUpdate:"text"},kpCellEditable:o,kpRowDrag:n,kpHeadCheckBox:a,kpHeadFilter:{},kpHeadSort:{},kpHeadFocusHighlight:{timeCreate:!1,timeEnd:!1,timeUpdate:!1},kpCellRender:{userId:function(t,e,i){var r=(0,c.A)(i,"isApp",""),o="";return"y"!==r&&(o=t),o},isApp:function(e,i,r){var o=(0,c.A)(r,"id",""),n='\n                                <input type="checkbox" '.concat("y"===e?"checked":""," onclick=\"$vo.$dg.toggleItemIsAppById('").concat(o,"')\" ").concat(t.isEditable?"":"disabled"," />\n                            ");return n},timeCreate:function(e,i,r){var o=(0,c.A)(r,"id",""),n="",a=t.$t("tokenTimeEmpty");if((0,Pt.A)(e)){var s=pt()(e);n=s.format("YYYY-MM-DDTHH:mm:ss.SSSZ"),a=s.format("YYYY-MM-DD HH:mm")}var d='\n                                <div onclick="event.stopPropagation();event.preventDefault();" onmousedown="event.stopPropagation();event.preventDefault();">\n                                    <button style="width:100%; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;" onclick="$vo.$dg.modifyItemTimeCreateById(this,\''.concat(n,"','").concat(o,"')\" ").concat(t.isEditable?"":"disabled",">").concat(a,"</button>\n                                </div>\n                            ");return d},timeEnd:function(e,i,r){var o=(0,c.A)(r,"id",""),n="",a=t.$t("tokenTimeEmpty");if((0,Pt.A)(e)){var s=pt()(e);n=s.format("YYYY-MM-DDTHH:mm:ss.SSSZ"),a=s.format("YYYY-MM-DD HH:mm")}var d='\n                                <div onclick="event.stopPropagation();event.preventDefault();" onmousedown="event.stopPropagation();event.preventDefault();">\n                                    <button style="width:100%; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;" onclick="$vo.$dg.modifyItemTimeEndById(this,\''.concat(n,"','").concat(o,"')\" ").concat(t.isEditable?"":"disabled",">").concat(a,"</button>\n                                </div>\n                            ");return d},timeUpdate:function(e,i,r){var o=(0,c.A)(r,"id",""),n="",a=t.$t("tokenTimeEmpty");if((0,Pt.A)(e)){var s=pt()(e);n=s.format("YYYY-MM-DDTHH:mm:ss.SSSZ"),a=s.format("YYYY-MM-DD HH:mm")}var d='\n                                <div onclick="event.stopPropagation();event.preventDefault();" onmousedown="event.stopPropagation();event.preventDefault();">\n                                    <button style="width:100%; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;" onclick="$vo.$dg.modifyItemTimeUpdateById(this,\''.concat(n,"','").concat(o,"')\" ").concat(t.isEditable?"":"disabled",">").concat(a,"</button>\n                                </div>\n                            ");return d}},rowsChange:function(e){t.isModified=!0},rowChecked:function(e){t.itemsCheck=(0,Gt.A)(e)}}}t.opt=e},refresh:function(){var t=this,e=(0,c.A)(t,"$refs.rftable.$refs.$self");e.refresh()},toggleTabKeys:function(){var t=this,e=(0,c.A)(t,"$refs.rftable.$refs.$self");e.showKeys(t.tabKeysShow)},toggleItemByKeyAndId:function(t,e){var i=this;if((0,z.A)(e)){var r=(0,c.A)(i,"opt.rows",[]),o=null,n=null;if((0,ft.A)(r,(function(t,i){if((0,c.A)(t,"id","")===e)return o=t,n=i,!1})),(0,Rt.A)(o)){var a=(0,c.A)(o,t,"n"),s="y"===a?"n":"y";(0,Ot.A)(i,"opt.rows[".concat(n,"].").concat(t),s),i.refresh(),i.isModified=!0}else i.$alert("".concat(i.$t("userEditNoUserData")),{type:"error"})}else i.$alert("".concat(i.$t("userEditNoUserId")),{type:"error"})},toggleItemIsAppById:function(t){var e=this;e.toggleItemByKeyAndId("isApp",t)},modifyItemByKeyAndId:function(t,e,i,r){var o=this;if((0,z.A)(r)){var n="";(0,Pt.A)(i)&&(n=pt()(i).format("YYYY-MM-DDTHH:mm:ss"));var a="datetime-local";(0,qt.A)(n,{eleRef:e,type:a}).then((function(e){var i=(0,c.A)(o,"opt.rows",[]),n=null,a=null;if((0,ft.A)(i,(function(t,e){if((0,c.A)(t,"id","")===r)return n=t,a=e,!1})),(0,Rt.A)(n)){var s=pt()(e,"YYYY-MM-DDTHH:mm"),d=s.format("YYYY-MM-DDTHH:mm:ss.SSSZ");(0,Ot.A)(o,"opt.rows[".concat(a,"].").concat(t),d),o.refresh(),o.isModified=!0}else o.$alert("".concat(o.$t("tokenEditNoTokenData")),{type:"error"})}))}else o.$alert("".concat(o.$t("tokenEditNoTokenId")),{type:"error"})},modifyItemTimeCreateById:function(t,e,i){var r=this;r.modifyItemByKeyAndId("timeCreate",t,e,i)},modifyItemTimeEndById:function(t,e,i){var r=this;r.modifyItemByKeyAndId("timeEnd",t,e,i)},modifyItemTimeUpdateById:function(t,e,i){var r=this;r.modifyItemByKeyAndId("timeUpdate",t,e,i)},deleteItemsCheck:function(){var t=this;if(0===(0,gt.A)(t.itemsCheck))return console.log("size(vo.itemsCheck) === 0",t.itemsCheck),void t.$alert("".concat(t.$t("anUnexpectedErrorOccurred")),{type:"error"});var e=(0,c.A)(t,"opt.rows",[]);e=(0,Gt.A)(e),(0,ft.A)(t.itemsCheck,(function(t){var i=(0,c.A)(t,"data.id","");if(!(0,z.A)(i))return console.log("invalid id"),!0;e=(0,Vt.A)(e,(function(t){return t.id!==i}))})),t.itemsCheck=[],t.tokens=(0,Gt.A)(e),t.isModified=!0},saveTokens:function(){var t=this;function e(){return i.apply(this,arguments)}function i(){return i=(0,ct.A)(lt().mark((function e(){var i,r,o;return lt().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=null,t.$ui.updateLoading(!0),!(0,z.A)(t.isError)){e.next=1;break}return t.$alert("".concat(t.isError),{type:"error"}),e.abrupt("return");case 1:return r=(0,c.A)(t,"opt.rows",[]),(0,gt.A)(r),o=t.userToken,e.next=2,t.$fapi.updateTokensList(o,r).catch((function(t){i=t}));case 2:if(null===i){e.next=3;break}return t.$alert("".concat(t.$t("tokenSaveTokensFail"),": ").concat(i),{type:"error"}),e.abrupt("return");case 3:t.isModified=!1,t.$alert(t.$t("tokenSaveTokensSuccess"));case 4:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}e().catch((function(e){console.log("catch",e),t.$alert(t.$t("anUnexpectedErrorOccurred"),{type:"error"})})).finally((function(){t.$ui.updateLoading(!1)}))}}},ce=se,de=(0,A.A)(ce,ne,ae,!1,null,"1e40008c",null),le=de.exports,ue=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"domresize",rawName:"v-domresize"}],staticStyle:{height:"100%"},attrs:{changeParams:t.changeParams},on:{domresize:t.resizePanel}},[e("div",{directives:[{name:"domresize",rawName:"v-domresize"}],staticStyle:{background:"#fff"},on:{domresize:t.resizeHead}},[e("div",{staticStyle:{padding:"10px 10px 10px 20px"}},[e("div",{style:"display:flex; align-items:center; padding:".concat(t.drawer?"5px":"5px 5px 5px 20px",";")},[e("WIcon",{attrs:{icon:t.mdiIpNetwork,color:"#000",size:32}}),e("div",{staticStyle:{"padding-left":"12px"}},[e("div",{staticStyle:{"font-size":"1.4rem",color:"#000"}},[t._v(" "+t._s(t.$t("mmIpsList"))+" ")]),e("div",{staticStyle:{"padding-top":"2px","font-size":"0.8rem",color:"#666"}},[t._v(" "+t._s(t.$t("mmIpsListMsg"))+" ")])])],1)]),e("div",{staticStyle:{padding:"5px","border-top":"1px solid #ddd",display:"flex","align-items":"center"},attrs:{"_v-if":"showIsEditable || isEditable"}},[t.showIsEditable?[e("div",{staticStyle:{padding:"6px 0px 4px 4px"}},[e("WSwitch",{attrs:{text:t.$t("modeEdit")},model:{value:t.isEditable,callback:function(e){t.isEditable=e},expression:"isEditable"}})],1),e("div",{staticStyle:{"padding-left":"10px"}})]:t._e(),[e("WPopup",{attrs:{isolated:!0,_show:"",_hide:""},scopedSlots:t._u([{key:"trigger",fn:function(){return[e("WButtonCircle",{attrs:{paddingStyle:{v:6,h:6},tooltip:t.$t("showTabCols"),icon:t.mdiTableHeadersEye,backgroundColor:"#fff",backgroundColorHover:"#f2f2f2",iconColor:"#444",iconColorHover:"#222",iconColorFocus:"#222",shadow:!1,_click:""}})]},proxy:!0},{key:"content",fn:function(){return[e("div",{staticStyle:{padding:"10px 0px 10px 0px"}},[e("div",{staticStyle:{padding:"7px 10px","font-size":"0.85rem",color:"#222",background:"#f2f2f2"}},[t._v(" "+t._s(t.$t("showTabCols"))+" ")]),e("div",{staticStyle:{padding:"7px 9px 0px 7px"}},[e("WInputCheckbox",{attrs:{items:t.tabKeysPick},on:{input:t.toggleTabKeys},scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticStyle:{"padding-left":"3px",display:"flex","align-items":"center","font-size":"0.85rem",height:"24px",cursor:"pointer"}},[t._v(" "+t._s(t.getHead(i.item.data))+" ")])]}}],null,!1,286315898),model:{value:t.tabKeysShow,callback:function(e){t.tabKeysShow=e},expression:"tabKeysShow"}})],1)])]},proxy:!0}],null,!1,2452858936)}),e("div",{staticStyle:{"padding-left":"4px"}})],t.isEditable&&t.hasItemsCheck?[e("WButtonCircle",{attrs:{paddingStyle:{v:6,h:6},tooltip:t.$t("ipDeleteCheckIps"),icon:t.mdiTrashCanOutline,backgroundColor:"#fff",backgroundColorHover:"#f2f2f2",iconColor:"#444",iconColorHover:"#222",iconColorFocus:"#222",shadow:!1},on:{click:t.deleteItemsCheck}}),e("div",{staticStyle:{"padding-left":"4px"}})]:t._e(),t.isEditable&&t.isModified?[e("WButtonCircle",{attrs:{paddingStyle:{v:6,h:6},tooltip:t.$t("saveChanges"),icon:t.mdiCloudUploadOutline,backgroundColor:"rgba(255,0,50,0.6)",backgroundColorHover:"rgba(255,0,50,0.7)",backgroundColorFocus:"rgba(255,0,50,0.7)",iconColor:"#eee",iconColorHover:"#fff",iconColorFocus:"#fff",shadow:!1},on:{click:t.saveIps}}),e("div",{staticStyle:{"padding-left":"4px"}})]:t._e()],2)]),t.isLoading?e("div",{staticStyle:{padding:"10px 15px","font-size":"0.8rem"}},[t._v(" "+t._s(t.$t("waitingData"))+" ")]):[t.items?[e("WAggridVueDyn",{ref:"rftable",style:"width:100%;",attrs:{height:t.contentHeight,opt:t.opt}})]:t._e()]],2)},pe=[],fe={components:{WIcon:K.A,WSwitch:Jt.A,WButtonCircle:tt.A,WPopup:X.A,WInputCheckbox:Xt.A,WAggridVueDyn:te.A},props:{drawer:{type:Boolean,default:!1}},data:function(){return{mdiIpNetwork:J.wDQ,mdiCloudUploadOutline:J.XHW,mdiTrashCanOutline:J.FhF,mdiTableHeadersEye:J.sw5,panelWidth:100,panelHeight:100,headHeight:100,isLoading:!0,firstSetting:!0,showIsEditable:!1,isEditable:!1,isModified:!1,tabKeys:["id","ip","timeBlocked"],tabKeysPick:["ip","timeBlocked"],tabKeysShow:["ip","timeBlocked"],ips:[],items:[],itemsCheck:[],opt:null}},mounted:function(){var t=this;if(t.$dg.modifyItemTimeBlockedById=t.modifyItemTimeBlockedById,t.firstSetting){var e=(0,c.A)(t,"webInfor.showModeEditIps","");t.showIsEditable="y"===e;var i=(0,c.A)(t,"webInfor.modeEditIps","");t.isEditable="y"===i,t.firstSetting=!1}var r=t.userToken;t.$fapi.getIpsList(r).then((function(e){e=(0,At.A)(e,"ip").reverse(),t.ips=e})).catch((function(e){console.log(e),t.errMsg=t.$t("getDataError")})).finally((function(){t.isLoading=!1}))},computed:{webInfor:function(){var t=(0,c.A)(this,"$store.state.webInfor");return t},userToken:function(){var t=this;return(0,c.A)(t,"$store.state.userToken")},changeParams:function(){var t=this,e=t.isEditable,i=(0,Gt.A)(t.ips);return t.items=i,t.genOpt({isEditable:e}),t.isLoading=!1,""},contentHeight:function(){var t=this,e=t.panelHeight-t.headHeight;return e=Math.max(e,0),e},hasItemsCheck:function(){var t=this,e=(0,gt.A)(t.itemsCheck)>0;return e},hasItemCheckOne:function(){var t=this,e=1===(0,gt.A)(t.itemsCheck);return e},isError:function(){return""},kpHead:function(){var t=this,e={id:t.$t("id"),ip:t.$t("ip"),timeBlocked:t.$t("ipTimeBlocked")};return e}},methods:{resizePanel:function(t){var e=this;e.panelWidth=t.snew.offsetWidth,e.panelHeight=t.snew.offsetHeight},resizeHead:function(t){var e=this;e.headHeight=t.snew.offsetHeight},getHead:function(t){var e=this,i=(0,c.A)(e,"kpHead.".concat(t),"");return i},genOpt:function(){var t=this;t.itemsCheck=[];var e=null;if((0,gt.A)(t.items)>0){var i=t.tabKeys,r=t.kpHead,o={},n={},a={};t.isEditable&&(o={ip:!0},n={ip:!0},a={ip:!0});var s={id:!0},d=(0,Qt.A)(t.tabKeysPick,t.tabKeysShow);(0,ft.A)(d,(function(t){s[t]=!0})),e={language:t.$t("aggridLanguage"),rows:t.items,keys:i,kpHead:r,defCellEditable:!1,defHeadFilter:!0,defCellAlignH:"left",kpHeadHide:s,kpHeadFixLeft:{ip:!0},defHeadMinWidth:150,kpHeadWidth:{ip:300,timeBlocked:220},kpHeadFilterType:{id:"text",ip:"text",timeBlocked:"text"},kpCellEditable:o,kpRowDrag:n,kpHeadCheckBox:a,kpHeadFilter:{},kpHeadSort:{},kpHeadFocusHighlight:{timeBlocked:!1},kpCellRender:{timeBlocked:function(e,i,r){var o=(0,c.A)(r,"id",""),n="",a=t.$t("ipTimeEmpty");if((0,Pt.A)(e)){var s=pt()(e);n=s.format("YYYY-MM-DDTHH:mm:ss.SSSZ"),a=s.format("YYYY-MM-DD HH:mm")}var d='\n                                <div onclick="event.stopPropagation();event.preventDefault();" onmousedown="event.stopPropagation();event.preventDefault();">\n                                    <button style="width:100%; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;" onclick="$vo.$dg.modifyItemTimeBlockedById(this,\''.concat(n,"','").concat(o,"')\" ").concat(t.isEditable?"":"disabled",">").concat(a,"</button>\n                                </div>\n                            ");return d}},rowsChange:function(e){t.isModified=!0},rowChecked:function(e){t.itemsCheck=(0,Gt.A)(e)}}}t.opt=e},refresh:function(){var t=this,e=(0,c.A)(t,"$refs.rftable.$refs.$self");e.refresh()},toggleTabKeys:function(){var t=this,e=(0,c.A)(t,"$refs.rftable.$refs.$self");e.showKeys(t.tabKeysShow)},modifyItemByKeyAndId:function(t,e,i,r){var o=this;if((0,z.A)(r)){var n="";(0,Pt.A)(i)&&(n=pt()(i).format("YYYY-MM-DDTHH:mm:ss"));var a="datetime-local";(0,qt.A)(n,{eleRef:e,type:a}).then((function(e){var i=(0,c.A)(o,"opt.rows",[]),n=null,a=null;if((0,ft.A)(i,(function(t,e){if((0,c.A)(t,"id","")===r)return n=t,a=e,!1})),(0,Rt.A)(n)){var s=pt()(e,"YYYY-MM-DDTHH:mm"),d=s.format("YYYY-MM-DDTHH:mm:ss.SSSZ");(0,Ot.A)(o,"opt.rows[".concat(a,"].").concat(t),d),o.refresh(),o.isModified=!0}else o.$alert("".concat(o.$t("ipEditNoIpData")),{type:"error"})}))}else o.$alert("".concat(o.$t("ipEditNoIpId")),{type:"error"})},modifyItemTimeBlockedById:function(t,e,i){var r=this;r.modifyItemByKeyAndId("timeBlocked",t,e,i)},deleteItemsCheck:function(){var t=this;if(0===(0,gt.A)(t.itemsCheck))return console.log("size(vo.itemsCheck) === 0",t.itemsCheck),void t.$alert("".concat(t.$t("anUnexpectedErrorOccurred")),{type:"error"});var e=(0,c.A)(t,"opt.rows",[]);e=(0,Gt.A)(e),(0,ft.A)(t.itemsCheck,(function(t){var i=(0,c.A)(t,"data.id","");if(!(0,z.A)(i))return console.log("invalid id"),!0;e=(0,Vt.A)(e,(function(t){return t.id!==i}))})),t.itemsCheck=[],t.ips=(0,Gt.A)(e),t.isModified=!0},saveIps:function(){var t=this;function e(){return i.apply(this,arguments)}function i(){return i=(0,ct.A)(lt().mark((function e(){var i,r,o;return lt().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=null,t.$ui.updateLoading(!0),!(0,z.A)(t.isError)){e.next=1;break}return t.$alert("".concat(t.isError),{type:"error"}),e.abrupt("return");case 1:return r=(0,c.A)(t,"opt.rows",[]),(0,gt.A)(r),o=t.userToken,e.next=2,t.$fapi.updateIpsList(o,r).catch((function(t){i=t}));case 2:if(null===i){e.next=3;break}return t.$alert("".concat(t.$t("ipSaveIpsFail"),": ").concat(i),{type:"error"}),e.abrupt("return");case 3:t.isModified=!1,t.$alert(t.$t("ipSaveIpsSuccess"));case 4:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}e().catch((function(e){console.log("catch",e),t.$alert(t.$t("anUnexpectedErrorOccurred"),{type:"error"})})).finally((function(){t.$ui.updateLoading(!1)}))}}},me=fe,ge=(0,A.A)(me,ue,pe,!1,null,"536c7c04",null),he=ge.exports,ve={components:{WDrawer:ot.A,WButtonCircle:tt.A,WListVertical:nt.A,LayoutContentStaInfor:Et,LayoutContentUserInfor:Mt,LayoutContentUsers:oe,LayoutContentTokens:le,LayoutContentIps:he},props:{},data:function(){return{mdiArrowLeftBoldHexagonOutline:J.y6z,mdiArrowRightBoldHexagonOutline:J.bmu,menuKey:"mmStaInfor",panelWidth:0,panelHeight:0,drawer:!0,drawerWidth:230,drawerWidthMin:150,drawerWidthMax:350}},computed:{syncState:function(){var t=this;return(0,c.A)(t,"$store.state.syncState")},menus:function(){var t=this,e=[{key:"mmStaInfor",text:t.$t("mmStaInfor"),icon:J.aFw},{key:"mmUserInfor",text:t.$t("mmUserInfor"),icon:J.QKH},{key:"mmUsersList",text:t.$t("mmUsersList"),icon:J.dgQ},{key:"mmTokensList",text:t.$t("mmTokensList"),icon:J.lEv},{key:"mmIpsList",text:t.$t("mmIpsList"),icon:J.wDQ}];return e},menuActive:function(){var t=this,e=(0,rt.A)(t.menus,{key:t.menuKey});return e}},methods:{resize:function(t){var e=this;e.panelWidth=t.snew.clientWidth,e.panelHeight=t.snew.clientHeight}}},ye=ve,xe=(0,A.A)(ye,et,it,!1,null,"4b7f92f4",null),be=xe.exports,we={components:{WIcon:K.A,WPopup:X.A,WButtonCircle:tt.A,WTextSelect:O.A,LayoutContent:be},props:{},data:function(){return{mdiAccountCircleOutline:J.gXw,mdiLogoutVariant:J.m76,t:null,firstSetting:!0,showLangSelect:!1,keysLang:["eng","cht"],kpLangSelect:{eng:"English",cht:"中文"},drawer:!0}},mounted:function(){var t=this;if(t.firstSetting){var e=(0,c.A)(t,"webInfor.showLanguage","");t.showLangSelect="y"===e;var i=(0,c.A)(t,"webInfor.language","");t.$ui.setLang(i,"layout mounted"),t.firstSetting=!1}t.t=setInterval((function(){(0,z.A)(t.userToken)&&t.$fapi.checkToken(t.userToken).catch((function(e){console.log("checkToken catch",e),t.logout()}))}),1e3)},beforeDestroy:function(){var t=this;clearInterval(t.t)},computed:{viewState:function(){var t=this;return(0,c.A)(t,"$store.state.viewState","")},heightToolbar:function(){var t=this;return(0,c.A)(t,"$store.state.heightToolbar",0)},userToken:function(){var t=this;return(0,c.A)(t,"$store.state.userToken")},lang:function(){var t=this;return(0,c.A)(t,"$store.state.lang","")},webInfor:function(){var t=(0,c.A)(this,"$store.state.webInfor");return t},webName:{get:function(){var t=this,e=t.$t("webName","");return(0,z.A)(e)||(e=t.$t("waitingData","")),document.title=e,e}},webLogo:function(){var t=this;return(0,c.A)(t,"$store.state.webInfor.webLogo","")},userSelf:function(){var t=this;return(0,c.A)(t,"$store.state.userSelf","")},userName:function(){var t=this;return(0,c.A)(t,"userSelf.name","")}},methods:{getLangText:function(t){var e=this,i=(0,c.A)(e,"kpLangSelect.".concat(t),"");return i},toggleLang:function(t){var e=this;e.$ui.setLang(t,"toggle")},logout:function(){var t=this;t.$ui.logout().then((function(){t.$ui.updateViewState("login"),console.log("logout, goto view['login'] page")})).catch((function(t){console.log("logout err[".concat(t,"]"))}))}}},Ae=we,ke=(0,A.A)(Ae,Q,q,!1,null,"d63bb332",null),Ce=ke.exports,Se=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{position:"relative",width:"100vw",height:"100svh"}},[e("div",{style:"\n            position:absolute; top:0px; left:0px; width:100%; height:100%; display:flex; align-items:center; justify-content:center;\n            background-image: linear-gradient(-225deg, ".concat(t.c1," 0%, ").concat(t.c2," 50%, ").concat(t.c3," 100%);\n        ")},[e("div",{},[e("div",{style:"\n                    position:relative;\n                    width:".concat(t.contentWidth,"px; padding:10px; border-radius:30px; background:").concat(t.c4,";\n                    box-shadow: rgb(0 0 0 / 2%) 2.76726px 2.76726px 2.21381px 0px, rgb(0 0 0 / 3%) 6.6501px 6.6501px 5.32008px 0px, rgb(0 0 0 / 4%) 12.5216px 12.5216px 10.0172px 0px, rgb(0 0 0 / 4%) 22.3363px 22.3363px 17.869px 0px, rgb(0 0 0 / 5%) 41.7776px 41.7776px 33.4221px 0px, rgb(0 0 0 / 7%) 100px 100px 80px 0px;\n                ")},[e("div",{style:"padding:".concat(t.contentPadding,"px;")},[e("div",{staticStyle:{"padding-bottom":"20px","text-align":"center","font-size":"1.3rem"}},[t._v(" "+t._s(t.$t("mmUserInfor"))+" ")]),e("div",{staticStyle:{background:"rgba(255,255,255,0.4)","border-radius":"10px",padding:"15px"}},t._l(t.displayUser,(function(i,r){return e("div",{key:r,staticStyle:{display:"flex","align-items":"center","margin-bottom":"10px","border-bottom":"1px solid rgba(0,0,0,0.1)","padding-bottom":"5px"}},[e("div",{staticStyle:{"padding-right":"15px"}},[e("WIcon",{attrs:{icon:i.icon,size:20,color:"#555"}})],1),e("div",{staticStyle:{flex:"1"}},[e("div",{staticStyle:{"font-size":"0.8rem",color:"#666","margin-bottom":"2px"}},["password"===r&&t.showChangePassword?[t._v(" "+t._s(t.$t("userChangePassword"))+" ")]:[t._v(" "+t._s(t.$t(r))+" ")]],2),e("div",{staticStyle:{"font-size":"1.0rem",color:"#222"}},["password"===r?[t.showChangePassword?e("div",{staticStyle:{padding:"10px","margin-top":"5px"}},[e("div",{staticStyle:{"margin-bottom":"10px"}},[e("div",{staticStyle:{"font-size":"0.8rem",color:"#444","margin-bottom":"2px"}},[t._v(t._s(t.$t("userChangePasswordOldPassword")))]),e("WText",{attrs:{textColor:"#000",bottomLineBorderColor:"#888",bottomLineBorderColorHover:"#888",bottomLineBorderColorFocus:"#888",rightIcon:t.showOldPassword?"mdi-eye":"mdi-eye-off",rightIconColor:"#777",rightIconColorHover:"#666",rightIconColorFocus:"#555",rightIconTooltip:t.showOldPassword?t.$t("toggleToHidePassword"):t.$t("toggleToShowPassword"),password:!t.showOldPassword},on:{"click-right":function(e){t.showOldPassword=!t.showOldPassword}},model:{value:t.oldPassword,callback:function(e){t.oldPassword=e},expression:"oldPassword"}})],1),e("div",{staticStyle:{"margin-bottom":"10px"}},[e("div",{staticStyle:{"font-size":"0.8rem",color:"#444","margin-bottom":"2px"}},[t._v(t._s(t.$t("userChangePasswordNewPassword")))]),e("WText",{attrs:{textColor:"#000",bottomLineBorderColor:"#888",bottomLineBorderColorHover:"#888",bottomLineBorderColorFocus:"#888",rightIcon:t.showNewPassword?"mdi-eye":"mdi-eye-off",rightIconColor:"#777",rightIconColorHover:"#666",rightIconColorFocus:"#555",rightIconTooltip:t.showNewPassword?t.$t("toggleToHidePassword"):t.$t("toggleToShowPassword"),password:!t.showNewPassword},on:{"click-right":function(e){t.showNewPassword=!t.showNewPassword}},model:{value:t.newPassword,callback:function(e){t.newPassword=e},expression:"newPassword"}})],1),e("div",{staticStyle:{"margin-bottom":"15px"}},[e("div",{staticStyle:{"font-size":"0.8rem",color:"#444","margin-bottom":"2px"}},[t._v(t._s(t.$t("userChangePasswordConfirmPassword")))]),e("WText",{attrs:{textColor:"#000",bottomLineBorderColor:"#888",bottomLineBorderColorHover:"#888",bottomLineBorderColorFocus:"#888",rightIcon:t.showConfirmPassword?"mdi-eye":"mdi-eye-off",rightIconColor:"#777",rightIconColorHover:"#666",rightIconColorFocus:"#555",rightIconTooltip:t.showConfirmPassword?t.$t("toggleToHidePassword"):t.$t("toggleToShowPassword"),password:!t.showConfirmPassword},on:{"click-right":function(e){t.showConfirmPassword=!t.showConfirmPassword}},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})],1),e("div",{staticStyle:{display:"flex",gap:"10px"}},[e("WButtonChip",{attrs:{text:t.$t("send"),textFontSize:"0.8rem",paddingStyle:{v:4,h:15},backgroundColor:"rgba(255,255,255,0.5)",backgroundColorHover:"rgba(255,255,255,0.7)",borderRadius:4,_shadow:"false"},on:{click:t.submitChangePassword}}),e("WButtonChip",{attrs:{text:t.$t("cancel"),textFontSize:"0.8rem",paddingStyle:{v:4,h:15},backgroundColor:"rgba(255,255,255,0.5)",backgroundColorHover:"rgba(255,255,255,0.7)",borderRadius:4,_shadow:"false"},on:{click:t.cancelChangePassword}})],1)]):e("div",[e("WButtonChip",{attrs:{text:t.$t("userChangePassword"),textFontSize:"0.8rem",paddingStyle:{v:4,h:15},backgroundColor:"rgba(255,255,255,0.5)",backgroundColorHover:"rgba(255,255,255,0.7)",borderRadius:4,_shadow:"false"},on:{click:t.clickChangePassword}})],1)]:[i.enumerable?[t._v(" "+t._s(t.$t(i.value))+" ")]:[t._v(" "+t._s(i.value)+" ")]]],2)])])})),0),e("div",{staticStyle:{"padding-top":"30px"}}),e("div",{staticStyle:{padding:"5px 0px","text-align":"center"}},[e("WButtonChip",{attrs:{text:t.$t("logout"),textFontSize:"0.9rem",paddingStyle:{v:6,h:20},backgroundColor:"rgba(255,255,255,0.5)",backgroundColorHover:"rgba(255,255,255,0.7)",_shadow:"false"},on:{click:t.logout}})],1)])])])]),e("div",{staticStyle:{position:"absolute",top:"10px",right:"10px"}},[t.showLangSelect?e("div",{staticStyle:{"white-space":"nowrap"}},[e("WTextSelect",{staticStyle:{width:"100px"},attrs:{items:t.keysLang,value:t.lang},on:{input:t.toggleLang},scopedSlots:t._u([{key:"select",fn:function(e){return[t._v(" "+t._s(t.getLangText(e.item))+" ")]}},{key:"item",fn:function(e){return[t._v(" "+t._s(t.getLangText(e.item))+" ")]}}],null,!1,2218956916)})],1):t._e()])])},$e=[],Ie={components:{WButtonChip:V.A,WTextSelect:O.A,WIcon:K.A,WText:F.A},props:{},data:function(){return{contentWidth:450,contentPadding:30,showLangSelect:!1,keysLang:["eng","cht"],kpLangSelect:{eng:"English",cht:"中文"},showChangePassword:!1,oldPassword:"",newPassword:"",confirmPassword:"",showOldPassword:!1,showNewPassword:!1,showConfirmPassword:!1}},mounted:function(){var t=this,e=(0,c.A)(t,"webInfor.showLanguage","");t.showLangSelect="y"===e},computed:{userToken:function(){var t=this;return(0,c.A)(t,"$store.state.userToken","")},lang:function(){var t=this;return(0,c.A)(t,"$store.state.lang","")},webInfor:function(){var t=(0,c.A)(this,"$store.state.webInfor");return t},webBackgoundGradientColors:function(){var t=this;return(0,c.A)(t,"webInfor.webBackgoundGradientColors",[])},c1:function(){var t=this;return(0,c.A)(t,"webBackgoundGradientColors.0","#fff")},c2:function(){var t=this;return(0,c.A)(t,"webBackgoundGradientColors.1","#fff")},c3:function(){var t=this;return(0,c.A)(t,"webBackgoundGradientColors.2","#fff")},c4:function(){var t=this;return(0,c.A)(t,"webBackgoundGradientColors.3","#fff")},userSelf:function(){var t=this;return(0,c.A)(t,"$store.state.userSelf",{})},displayUser:function(){var t=this,e=t.userSelf;return{account:{value:e.account,icon:"fas fa-user-circle"},name:{value:e.name,icon:"fas fa-user"},email:{value:e.email,icon:"fas fa-envelope"},password:{value:"",icon:"fas fa-key"},description:{value:e.description,icon:"fas fa-file-alt"},from:{value:e.from,icon:"fas fa-globe"},isAdmin:{value:e.isAdmin,icon:"fas fa-shield-alt",enumerable:!0},isActive:{value:e.isActive,icon:"fas fa-toggle-on",enumerable:!0}}}},methods:{getLangText:function(t){var e=this,i=(0,c.A)(e,"kpLangSelect.".concat(t),"");return i},toggleLang:function(t){var e=this;e.$ui.setLang(t,"toggle")},clickChangePassword:function(){var t=this;t.showChangePassword=!0,t.oldPassword="",t.newPassword="",t.confirmPassword="",t.showOldPassword=!1,t.showNewPassword=!1,t.showConfirmPassword=!1},cancelChangePassword:function(){var t=this;t.showChangePassword=!1},submitChangePassword:function(){var t=this,e=function(){var e=(0,ct.A)(lt().mark((function e(){var i,r;return lt().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if((0,z.A)(t.oldPassword)){e.next=1;break}return t.$alert(t.$t("userChangePasswordForNoOldPassword"),{type:"error"}),e.abrupt("return");case 1:if((0,z.A)(t.newPassword)){e.next=2;break}return t.$alert(t.$t("userChangePasswordForNoNewPassword"),{type:"error"}),e.abrupt("return");case 2:if((0,z.A)(t.confirmPassword)){e.next=3;break}return t.$alert(t.$t("userChangePasswordForNoConfirmPassword"),{type:"error"}),e.abrupt("return");case 3:if(t.newPassword===t.confirmPassword){e.next=4;break}return t.$alert(t.$t("userChangePasswordNotSame"),{type:"error"}),e.abrupt("return");case 4:return i=!1,e.next=5,t.$fapi.checkUserPassword(t.lang,t.newPassword).then((function(e){"success"===e.state?i=!0:"error"===e.state?t.$alert(e.msg,{type:"error"}):(console.log("error[res]",e),t.$alert(t.$t("userChangePasswordForNetError"),{type:"error"}))})).catch((function(e){console.log("catch",e),t.$alert(t.$t("userChangePasswordForNetError"),{type:"error"})}));case 5:if(i){e.next=6;break}return e.abrupt("return");case 6:return r=!1,e.next=7,t.$fapi.changeUserPassword(t.userToken,t.lang,t.oldPassword,t.newPassword).then((function(e){r=!0,t.cancelChangePassword(),t.$alert(t.$t("userChangePasswordSuccess"))})).catch((function(e){console.log("catch",e),t.$alert(t.$t("userChangePasswordFail"),{type:"error"})}));case 7:if(r){e.next=8;break}return e.abrupt("return");case 8:return e.abrupt("return","ok");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.$ui.updateLoading(!0),e().finally((function(){t.$ui.updateLoading(!1)}))},logout:function(){var t=this;t.$ui.logout().then((function(){t.$ui.updateViewState("login"),console.log("logout, goto view['login'] page")})).catch((function(t){console.log("logout err[".concat(t,"]"))}))}}},_e=Ie,Te=(0,A.A)(_e,Se,$e,!1,null,"534668c5",null),He=Te.exports,Be={components:{LoadingWinBar:C,CheckYesNo:E,CheckYes:N,PageLogin:Z,Layout:Ce,PageUser:He},data:function(){return{autoLogining:!0}},beforeMount:function(){var t=this;t.$ui.setVo(t);var e=(0,c.A)(window,"___pmwsso___.language","");t.$ui.setLang(e,"app init")},mounted:function(){var t=this;if(window.$vo=t,t.autoLogining){var e=t.$ui.getUrlView();t.$ui.autoLogin({useRedir:"login"===e}).then((function(){t.$ui.updateViewState(e),t.autoLogining=!1,console.log("autoLogin, goto view[".concat(e,"] page"))})).catch((function(e){t.$ui.updateViewState("login"),t.autoLogining=!1,console.log("autoLogin err[".concat(e,"], goto view['login'] page"))}))}},computed:{syncState:function(){var t=this;return(0,c.A)(t,"$store.state.syncState")},viewState:function(){var t=this;return(0,c.A)(t,"$store.state.viewState","")},webKey:function(){var t=this;return(0,c.A)(t,"$store.state.webInfor.webKey","")}},methods:{resize:function(t){var e=this;e.$ui.syncHeight()}}},Ee=Be,Le=(0,A.A)(Ee,m,g,!1,null,null,null),Ue=Le.exports,Pe=i(7734),De=i(9842),We="UpdateWebInfor",Ne="UpdateLang",Ye="UpdateKpText",Me="UpdateSyncState",ze="UpdateLoading",Ke="UpdateViewState",Fe="UpdateTableData",Oe="UpdateData",Ve="UpdateHeightApp",Ge="UpdateHeightAppEff",Re="UpdateHeightToolbar",je="UpdateMenu",Ze="UpdateUserToken",Qe="UpdateUserSelf",qe=i(5140),Je=i(9651),Xe=i(7106),ti=(i(7286),"ips"),ei="IP使用者",ii="IPs",ri={id:{pk:!0,name:"主鍵",type:"STRING"},ip:{name:"IP",type:"STRING"},timeBlocked:{name:"封鎖時間",type:"STRING"}},oi=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(0,Je.A)(t,(0,ht.A)(ri));return e.id="".concat((0,qe.A)()),e},ni=function(){var t=[];return t},ai={keyTable:ti,tableNameCht:ei,tableNameEng:ii,settings:ri,funNew:oi,funTest:ni},si=ai,ci="tokens",di="金鑰",li="Tokens",ui={id:{pk:!0,name:"主鍵",type:"STRING"},token:{name:"金鑰",type:"STRING"},userId:{name:"使用者主鍵",type:"STRING"},isApp:{name:"是否為應用系統",type:"STRING"},timeCreate:{name:"創建時間",type:"STRING"},timeEnd:{name:"到期時間",type:"STRING"},timeUpdate:{name:"更新時間",type:"STRING"}},pi=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(0,Je.A)(t,(0,ht.A)(ui));return e.id="".concat((0,qe.A)()),e.token="".concat((0,qe.A)()),e.timeCreate=(0,Xe.A)(),e.timeEnd=ut().add(30,"minute").format("YYYY-MM-DDTHH:mm:ss.SSSZ"),e.timeUpdate=e.timeCreate,e},fi=function(){var t=[];return t},mi={keyTable:ci,tableNameCht:di,tableNameEng:li,settings:ui,funNew:pi,funTest:fi},gi=mi,hi="users",vi="使用者",yi="Users",xi={id:{pk:!0,name:"主鍵",type:"STRING"},order:{name:"順序",type:"INTEGER"},account:{name:"帳號",type:"STRING"},password:{name:"密碼",type:"STRING"},name:{name:"姓名",type:"STRING"},email:{name:"電子郵件",type:"STRING"},description:{name:"描述",type:"TEXT"},from:{name:"來源",type:"STRING"},redir:{name:"登入後轉址",type:"STRING"},isAdmin:{name:"是否為系統管理員",type:"STRING"},timeVerified:{name:"驗證時間",type:"STRING"},timeExpired:{name:"過期時間",type:"STRING"},timeBlocked:{name:"封鎖時間",type:"STRING"},userId:{name:"創建使用者主鍵",type:"STRING"},timeCreate:{name:"創建時間",type:"STRING"},userIdUpdate:{name:"最新變更使用者主鍵",type:"STRING"},timeUpdate:{name:"更新時間",type:"STRING"},isActive:{name:"是否有效",type:"STRING"}},bi=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(0,Je.A)(t,(0,ht.A)(xi));return e.id="".concat((0,qe.A)()),e.timeCreate=(0,Xe.A)(),e.userIdUpdate=e.userId,e.timeUpdate=e.timeCreate,e.isActive="y",e},wi=function(){var t=[];return t},Ai={keyTable:hi,tableNameCht:vi,tableNameEng:yi,settings:xi,funNew:bi,funTest:wi},ki=Ai,Ci=i(3422),Si={ips:si,tokens:gi,users:ki},$i={};for(var Ii in Si)$i[Ii]=(0,Ci.A)(Si[Ii],{useCreateStorage:!1});var _i,Ti=$i,Hi={hostname:"".concat(window.location.origin),webInfor:{},connState:"csIng",syncState:!1,viewState:"login",loading:!1,settings:{leftDrawerWidth:200},heightApp:0,heightAppEff:0,heightToolbar:60,menu:{},userToken:"",userSelf:{},lang:"cht",kpText:{}};(0,ft.A)(Ti,(function(t,e){Hi[e]=null}));var Bi=(_i={},(0,De.A)((0,De.A)((0,De.A)((0,De.A)((0,De.A)((0,De.A)((0,De.A)((0,De.A)((0,De.A)((0,De.A)(_i,We,(function(t,e){t.webInfor=e})),Ne,(function(t,e){t.lang=e})),Ye,(function(t,e){t.kpText=e})),Me,(function(t,e){t.syncState=e})),ze,(function(t,e){t.loading=e})),Ke,(function(t,e){t.viewState=e})),Fe,(function(t,e){t[e.tableName]=e.data})),Oe,(function(t,e){(0,Ot.A)(t,e.path,e.data)})),Ve,(function(t,e){t.heightApp=e})),Ge,(function(t,e){t.heightAppEff=e})),(0,De.A)((0,De.A)((0,De.A)((0,De.A)(_i,Re,(function(t,e){t.heightToolbar=e})),je,(function(t,e){t.menu=e})),Ze,(function(t,e){t.userToken=e})),Qe,(function(t,e){t.userSelf=e})));s.Ay.use(Pe.Ay);var Ei=new Pe.Ay.Store({state:Hi,mutations:Bi,getters:o,actions:n,strict:!0});Ei.types=r,s.Ay.prototype.$store=Ei;var Li=Ei,Ui=i(3360),Pi=i(106),Di=(i(3959),i(6207),i(6035)),Wi=(i(7372),s.Ay.prototype);function Ni(t){Wi=t}function Yi(t){Wi.$store.commit(Wi.$store.types.UpdateLoading,t)}function Mi(t){Wi.$store.commit(Wi.$store.types.UpdateViewState,t)}function zi(t){Wi.$store.commit(Wi.$store.types.UpdateUserToken,t)}function Ki(t){Wi.$store.commit(Wi.$store.types.UpdateUserSelf,t)}function Fi(){function t(e){(0,ft.A)(e,(function(e){e.$forceUpdate(),e.$children&&t(e.$children)}))}t(Wi.$children)}function Oi(t){return"eng"!==t&&"cht"!==t&&(t="eng"),t}function Vi(){var t="";if(!(0,z.A)(t)){var e=(0,c.A)(window,"___pmwsso___.language","");(0,z.A)(e)&&(t=Oi(e))}if(!(0,z.A)(t)){var i=(0,c.A)(Wi,"$store.state.lang","");(0,z.A)(i)&&(t=Oi(i))}return(0,z.A)(t)?t:"eng"}function Gi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t=(0,z.A)(t)?Oi(t):Vi();var e=(0,c.A)(Wi,"$store.state.lang","");t!==e&&Wi.$store.commit(Wi.$store.types.UpdateLang,t);var i=(0,c.A)(Wi,"$store.state.webInfor.kpLang",{}),r=(0,c.A)(i,t,{});Wi.$store.commit(Wi.$store.types.UpdateKpText,r),Fi()}function Ri(t){var e=(0,c.A)(Wi,"$store.state.kpText"),i=(0,c.A)(e,t,"");return(0,z.A)(i)||(i=t),i}function ji(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=(0,c.A)(t,e,"");if(!(0,z.A)(r)){var o=Ri("empty");return o}return(0,Pi.A)(i)&&(r=i(r)),r}function Zi(){var t=(0,c.A)(Wi,"$store.state.heightToolbar"),e=window.innerHeight-t;return Wi.$store.commit(Wi.$store.types.UpdateHeightApp,window.innerHeight),Wi.$store.commit(Wi.$store.types.UpdateHeightAppEff,e),""}function Qi(){var t={};try{var e=new URLSearchParams(window.location.search);e.forEach((function(e,i){t[i]=e}))}catch(i){console.log("err",i)}return t}function qi(){var t=Qi(),e=(0,c.A)(t,"view","");return""===e&&(e="login"),"login"!==e&&"backstage"!==e&&"user"!==e&&(console.log("invalid view[".concat(e,"]")),e="login"),e}function Ji(t,e){t=t.replaceAll("{token}",e),window.location.href=t}function Xi(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,c.A)(i,"useRedir",!1),o=(0,I.A)();function n(){return a.apply(this,arguments)}function a(){return a=(0,ct.A)(dt.mark((function i(){var n,a,s,d,l;return dt.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return Yi(!0),i.next=1,(0,Ui.A)(1e3);case 1:if(n=(0,c.A)(Wi,"$store.state.webInfor.webKey",""),(0,z.A)(n)){i.next=2;break}return Wi.$alert(Wi.$t("failedLoginForNoWebKey"),{type:"error"}),o.reject("invalid $keyLS"),i.abrupt("return");case 2:return i.next=3,Wi.$fapi.loginByAccountAndPassword(t,e);case 3:return a=i.sent,s="".concat(n,":userToken"),i.next=4,localStorage.setItem(s,"");case 4:if((0,Rt.A)(a)){i.next=5;break}return o.reject("invalid user"),i.abrupt("return");case 5:if(d=(0,c.A)(a,"token",""),(0,z.A)(d)){i.next=6;break}return Wi.$alert(Wi.$t("failedLoginForNoToken"),{type:"error"}),o.reject("invalid token"),i.abrupt("return");case 6:return i.next=7,localStorage.setItem(s,d);case 7:if(zi(d),Ki(a),!r){i.next=9;break}if(l=(0,c.A)(a,"redir",""),(0,z.A)(l)){i.next=8;break}return Wi.$alert(Wi.$t("failedLoginForNoRedir"),{type:"error"}),o.reject("invalid redir"),i.abrupt("return");case 8:return Ji(l,d),o.resolve("redir"),i.abrupt("return");case 9:Yi(!1),o.resolve("done");case 10:case"end":return i.stop()}}),i)}))),a.apply(this,arguments)}return n().catch((function(t){Wi.$alert(Wi.$t("failedLoginForCatch"),{type:"error"}),o.reject(t),Yi(!1)})),o}function tr(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(0,c.A)(t,"useRedir",!1),i=(0,I.A)();function r(){return o.apply(this,arguments)}function o(){return o=(0,ct.A)(dt.mark((function t(){var r,o,n,a,s,d;return dt.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=null,t.next=1,(0,Di.A)((function(){return(0,c.A)(Wi,"$store.state.syncState",!1)}));case 1:if(o=(0,c.A)(Wi,"$store.state.webInfor.webKey",""),(0,z.A)(o)){t.next=2;break}return Wi.$alert(Wi.$t("failedLoginForNoWebKey"),{type:"error"}),i.reject("invalid $keyLS"),t.abrupt("return");case 2:return n="".concat(o,":userToken"),t.next=3,localStorage.getItem(n);case 3:if(a=t.sent,(0,z.A)(a)){t.next=4;break}return i.reject("invalid token"),t.abrupt("return");case 4:return t.next=5,Wi.$fapi.checkToken(a).catch((function(t){r=t}));case 5:if(!r){t.next=7;break}return t.next=6,localStorage.setItem(n,"");case 6:return i.reject("token error"),t.abrupt("return");case 7:return t.next=8,Wi.$fapi.getUserByToken(a);case 8:if(s=t.sent,(0,Rt.A)(s)){t.next=9;break}return i.reject("invalid user"),t.abrupt("return");case 9:if(zi(a),Ki(s),!e){t.next=11;break}if(d=(0,c.A)(s,"redir",""),(0,z.A)(d)){t.next=10;break}return Wi.$alert(Wi.$t("failedLoginForNoRedir"),{type:"error"}),i.reject("invalid redir"),t.abrupt("return");case 10:return Ji(d,a),i.resolve("redir"),t.abrupt("return");case 11:i.resolve("done");case 12:case"end":return t.stop()}}),t)}))),o.apply(this,arguments)}return r().catch((function(t){Wi.$alert(Wi.$t("failedLoginForCatch"),{type:"error"}),i.reject(t)})),i}function er(){var t=(0,I.A)();function e(){return i.apply(this,arguments)}function i(){return i=(0,ct.A)(dt.mark((function t(){var e,i,r;return dt.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=(0,c.A)(Wi,"$store.state.webInfor.webKey",""),(0,z.A)(e)){t.next=1;break}return Wi.$alert(Wi.$t("failedLogoutForNoWebKey"),{type:"error"}),t.abrupt("return",Promise.reject("invalid $keyLS"));case 1:return i="".concat(e,":userToken"),t.next=2,localStorage.getItem(i);case 2:return r=t.sent,t.next=3,Wi.$fapi.logoutByToken(r).catch((function(){}));case 3:return t.next=4,localStorage.setItem(i,"");case 4:case"end":return t.stop()}}),t)}))),i.apply(this,arguments)}return e().then((function(){t.resolve("done")})).catch((function(e){Wi.$alert(Wi.$t("failedLogoutForCatch"),{type:"error"}),t.reject(e)})),t}var ir={warning:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAhCAYAAACxzQkrAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOwwAADsMBx2+oZAAAABZ0RVh0Q3JlYXRpb24gVGltZQAwOS8xOS8yNP52YhIAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzbovLKMAAADMklEQVRYha2WTWgTQRiGn0k2SU2KNQjmoiL+gGAVD/5gEelAkSKOiILei+hBRAQv/tBDsQiK1CJFDz331tNePAjRm60eBL0pXsSDF+dimmzbZDzsRJNmm+xPXliyOzP7zrNfvpn5hDGGJNJSHQJmAQHcLpbdL0n8RBIgLdVhYBHYb5u+AZeLZfdzXM9UbBpfC8AB/OgIe7+QxDA2kJZqAhgO6Bq2fbEU6y/TUuWB70BpkyG/gL3FsrsS1TtuhO53gcH23Y9jHDlCWqqd+Mmb6zHUA/YVy+7PKP5xIvQkBAx2zNOo5pEipKU6Bnzo6Kg3/N904PcdL5bdj2HniBqh2bYnITDVGmQcyDj+vRDd3+kXkJbqEjDS2mYqK2THTjO0MMfQwhzZsdOYSsfCGrHv9g9IS+UAz9oajUFkHPITV0mVSqRKJfITVxAZBzrT4Jn16A8QcBvY0w4EZDL+/mw8/xIpv60zLfdYj+RAWqrtwGRgpzHQaJm90QiKTlOT1isZEPAI2BpiXC9ttV5d1RVIS3UQuN4HmKZuWM94QMBMiDFRJKznptp0Mi3VGDDeR5imxq13eCB95iz0+JKEmtFj58IDkc5dI7jWaZcQ7cdFOhW0UwdpmHr6WiggLVUBmO4NA6bmYSpVEIMgBjGVKqbm+ZnSW9N2ru5AwANgR28gf9bKzDxry+9ZW35PZWa+ra+Hdti52m1bT3st1S7gK+HKi/+Ha73uP6fTiC0D3TbHjfKAA8Wy+6PZsDFCT0PDAGAQ2Qys12G97t8HnBtd1FEz/YuQluoEsBTFjXoDnDQ5u4o9940PF1wXddPJYtldBmg9gZ9HdTG1GoMPb5G9cBEAZ+9u/ky/QBTyUa2eY0ubFICWSgGnotEYxEAO59gRoAJUcI4fQQzkouRQU6csAykt1TZgKqqDn9Aeq6/fAQWgwOrrt5iqF3aVbdSUlmpI/B49vwiErujaZAxmbZ3syaMArC598gu0eEAAi+L36PkakVZWANRKFQCR35IEBqCaAl4mcUAIRCHvJ3IyGIBXjhHcEYYGcJMkkUomD5gziLut+9Bj4DKQJeLulkACWAUWi2X3HsBfLU4ARuGaUEMAAAAASUVORK5CYII="};function rr(t){var e=(0,c.A)(ir,t,"");return(0,z.A)(e)||console.log("invalid icon[".concat(t,"]")),e}var or={setVo:Ni,updateLoading:Yi,updateViewState:Mi,updateUserToken:zi,updateUserSelf:Ki,forceUpdate:Fi,setLang:Gi,getKpText:Ri,gv:ji,syncHeight:Zi,parseUrlParams:Qi,getUrlView:qi,goUrl:Ji,login:Xi,autoLogin:tr,logout:er,getIcon:rr},nr=or;function ar(t){function e(e,i,r){var o=(0,rt.A)(t,(0,De.A)({},e,i));return o||(o=""),(0,z.A)(r)&&(o=(0,c.A)(o,r,"")),o}function i(t){return e("keyTable",t,"tableNameCht")}return{getTableInforBy:e,getTableChtByKey:i}}var sr=ar;function cr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"name",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=function(i){var r=!1;return(0,ft.A)(t,(function(t){var o=(0,c.A)(t,e,"");if(o===i)return r=!0,!1})),r},n="",a=!0,s=0;while(a){s++;var d="";(0,z.A)(i)&&(d="".concat(i," - ")),n="".concat(d).concat(r,"(").concat(s,")"),a=o(n)}return n}function dr(t){var e=(0,c.A)(t,"timeVerified","");return(0,Pt.A)(e)}function lr(t){var e=(0,c.A)(t,"timeExpired","");if(!(0,Pt.A)(e))return!1;var i=ut().format("YYYY-MM-DDTHH:mm:ss.SSSZ");return i>=e}function ur(t){var e=(0,c.A)(t,"timeBlocked","");if(!(0,Pt.A)(e))return!1;var i=ut().format("YYYY-MM-DDTHH:mm:ss.SSSZ");return i<=e}function pr(t){var e=(0,c.A)(t,"timeEnd","");if(!(0,Pt.A)(e))return!1;var i=ut().format("YYYY-MM-DDTHH:mm:ss.SSSZ");return i>e}function fr(t){var e=(0,c.A)(t,"isAdmin","");return"y"===e}function mr(t){var e=(0,c.A)(t,"isActive","");return"y"===e}function gr(t){var e=dr(t),i=!lr(t),r=!ur(t),o=mr(t),n=e&&i&&r&&o;return n}function hr(t){var e=dr(t),i=!lr(t),r=!ur(t),o=fr(t),n=mr(t),a=e&&i&&r&&o&&n;return a}s.Ay.config.productionTip=!1,s.Ay.prototype.$alert=function(){var t=Array.prototype.slice.call(arguments),e=t[0],i=t[1];console.log(e,i),"close"!==e&&(0,l.A)(e,i)};var vr=sr(Ti);s.Ay.prototype.$ui=nr,s.Ay.prototype.$t=nr.getKpText,s.Ay.prototype.$s=a,s.Ay.prototype.$dssm=vr,s.Ay.prototype.$ds=Ti,s.Ay.prototype.$dg={},s.Ay.directive("domresize",(0,p.A)()),s.Ay.directive("dommutation",(0,u.A)()),s.Ay.directive("domdragdrop",(0,f.A)()),(0,d.A)({showLog:!1,url:window.location.origin+window.location.pathname,useWaitToken:!1,apiName:"api",tokenType:"Bearer",getToken:function(){var t=(0,c.A)(s.Ay.prototype,"$store.state.userToken","");return t},getServerMethods:function(t){s.Ay.prototype.$fapi=t,t.getWebInfor().then((function(t){s.Ay.prototype.$store.commit(s.Ay.prototype.$store.types.UpdateWebInfor,t),nr.setLang(null,"get webInfor"),s.Ay.prototype.$store.commit(s.Ay.prototype.$store.types.UpdateSyncState,!0)})).catch((function(t){console.log(t)}))},recvData:function(t){s.Ay.prototype.$store.commit(s.Ay.prototype.$store.types.UpdateTableData,t)}}),new s.Ay({store:Li,render:function(t){return t(Ue)}}).$mount("#app")},9297:function(t){function e(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}e.keys=function(){return[]},e.resolve=e,e.id=9297,t.exports=e}},e={};function i(r){var o=e[r];if(void 0!==o)return o.exports;var n=e[r]={exports:{}};return t[r].call(n.exports,n,n.exports,i),n.exports}i.m=t,function(){var t=[];i.O=function(e,r,o,n){if(!r){var a=1/0;for(l=0;l<t.length;l++){r=t[l][0],o=t[l][1],n=t[l][2];for(var s=!0,c=0;c<r.length;c++)(!1&n||a>=n)&&Object.keys(i.O).every((function(t){return i.O[t](r[c])}))?r.splice(c--,1):(s=!1,n<a&&(a=n));if(s){t.splice(l--,1);var d=o();void 0!==d&&(e=d)}}return e}n=n||0;for(var l=t.length;l>0&&t[l-1][2]>n;l--)t[l]=t[l-1];t[l]=[r,o,n]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};i.O.j=function(e){return 0===t[e]};var e=function(e,r){var o,n,a=r[0],s=r[1],c=r[2],d=0;if(a.some((function(e){return 0!==t[e]}))){for(o in s)i.o(s,o)&&(i.m[o]=s[o]);if(c)var l=c(i)}for(e&&e(r);d<a.length;d++)n=a[d],i.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return i.O(l)},r=self["webpackChunkw_web_sso"]=self["webpackChunkw_web_sso"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=i.O(void 0,[504],(function(){return i(806)}));r=i.O(r)})();